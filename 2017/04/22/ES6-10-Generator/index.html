
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Devlog">
    <title>[ES6] 10. Generator - Devlog</title>
    <meta name="author" content="Jbee">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/feed.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jbee","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"\n[ES6] 10. GeneratorGenerator는 무엇인가?Generator function으로 반환된 값을 Generator Object라고 하고 이 Generator Obejct는 iterator 프로토콜을 따르고 있다. 즉 [Symbol.iterator]가 프로퍼티에 추가되어 있다는 것이다. Generator function안에서는 yield라는 키워드를 사용해서 함수에 내부에 작성된 코드를 전부 실행하지 않는다. 제너레이터 함수는 yield를 기준으로 실행을 나누어서 진행한다. iterator프로토콜을 따르고 있기 때문에 순차적으로 실행할 수 있는 것이다.cf&gt;Generator function를 제너레이터 함수로, Generator Object를 제너레이터 오브젝트로 표기.\nGenerator Functionfunction*로 표현할 수 있으며, 작성할 때는 일반 function처럼 선언문과 표현식으로 작성할 수 있다.1234function* calc(prev, post) &#123;  console.log(\"generator start\");  yield prev + post;&#125;\nor1234let calc = function*(prev, post) &#123;  console.log(\"generator start\");  yield prev + post;&#125;\n제너리에터 함수에 의해 반환되는 값은 제너레이터 오브젝트이다.12let generator = calc(1, 2);console.log(typeof generator); // object\n제너레이터 오브젝트를 반환하는 순간에는 오브젝트를 반환하기만 할 뿐, 내부 코드는 실행되지 않는다.\nGenerator Objectnew 키워드를 사용하여 인스턴스를 생성할 수 없다.12let cal = new calc();// Error//TypeError: calc is not a constructor\nnext() 메소드를 통해 제너레이터 함수를 실행시킬 수 있다.12345console.log(generator.next());//generator start//&#123; value: 3, done: false &#125;console.log(generator.next());//&#123; value: undefined, done: true &#125;\niterator의 next()메소드를 실행시킨 것처럼 value와 done이라는 프로퍼티를 갖고 있는 객체로 반환된다. 그런데 첫번째 next()메소드 실행 시에는 generator start가 출력되었는데, 두번째 실행 시에는 출력되지 않았다. yield라는 키워드를 중심으로 함수가 나눠 실행되는 것이다.\nyield 키워드, 함수를 실행하고 멈출 수 있다.1[returnValue] = yield[expression]\n위와 같은 구문으로 yield를 작성할 수 있다.\n위의 예제 코드에서 살펴봤듯이, next() 메소드의 반환 값은 value와 done으로 구성되어 있는 오브젝트이다. 제너레이터의 메소드 next()에서 이 두 가지의 값은 yield에 의해 결정된다. value가 결정되는 규칙이 조금 복잡하다.\nvalue 결정 규칙\nexpression으로 반환되는 값이 할당.이 때, expression에 있는 값이 returnValue에 할당되지 않는다.\nexpression에 아무것도 없으면 undefined가 할당.이 때, next()의 파라미터로 넘겨지는 값이 returnValue에 할당된다.\n\ndone 결정 규칙\n계속 수행할 yield가 남아있으면 false.\n더 이상 실행할 yield가 없으면 true.\n\n예제 코드를 살펴보자.123456789101112function* calc(prev, post) &#123;  let result = 0;  console.log(`Initial result: $&#123;result&#125;`);  result = yield prev + post;  console.log(`Middle result: $&#123;result&#125;`);  result = yield;  console.log(`Last result: $&#123;result&#125;`);&#125;let generator = calc(10, 20);\n위에서 언급한 규칙에 대한 내용을 모두 담고 있는 예제코드이다. console.log()에는 어떠한 값이 찍히게 될까? 코드를 통해 하나씩 살펴보자.123console.log(generator.next());// Initial result: 0// &#123; value: 30, done: false &#125;\nnext() 메소드를 실행시키면 첫번째 yield까지 실행한다.초기 result 변수에 대한 값이 출력되고,expression으로 계산된 값인 30이 value이 출력된다.아직 yield가 남았으니 done은 false가 되겠다.\n123console.log(generator.next());// Middle result: undefined// &#123; value: undefined, done: false &#125;\n두번째 yield까지 실행한다.expression 값이 result에 할당되지 않은 것을 확인할 수 있다.아직 yield가 남았으니 done은 false가 되겠다.\n123console.log(generator.next(20));// Last result: 20// &#123; value: undefined, done: true &#125;\nyield가 없으므로 brace까지 실행한다.next()메소드의 파라미터로 넘겨진 20이 result 변수에 할당된 것을 확인할 수 있다.더이상 yield 키워드가 없으므로 done은 true가 된다.\nyield 대신 return1234567function* calc(prev, post) &#123;    return prev + post;&#125;let generator = calc(10, 20);console.log(generator.next());// &#123; value: 30, done: true &#125;\nreturn 키워드 뒤에 오는 값이 value에 할당되고 yield 키워드의 유무와 상관없이 done에는 true가 할당된다. return은 수행되고 있는 이터레이터를 종료시키는 역할을 수행한다.\n이터레이터 종료하기yield 키워드의 유무와 상관없이 이터레이터를 종료하고자 할 때는 제너레이터 오브젝트의 throw()메소드와 return()메소드를 사용할 수 있다.\n123456789101112function* idMaker(prev, post) &#123;  let value = 0;  while(true) &#123;    yield ++value;  &#125;&#125;let g = idMaker();console.log(g.next());// &#123; value: 1, done: false &#125;console.log(g.next());// &#123; value: 2, done: false &#125;console.log(g.next());// &#123; value: 3, done: false &#125;console.log(g.return(100));// &#123; value: 100, done: true &#125;\nreturn()메소드의 파라미터로 넘어가는 값이 value에 할당된다.위의 예제 코드에 return() 대신 throw()를 호출하게 되면 파라미터로 넘겨준 Error Message를 출력하고 이터레이터가 바로 종료된다.123456789101112131415161718function* idMaker(prev, post) &#123;  let value = 0;  try &#123;    while(true) &#123;      yield ++value;    &#125;      &#125; catch(e) &#123;    console.log(`Error message: $&#123;e&#125;`);  &#125;&#125;let g = idMaker();console.log(g.next());// &#123; value: 1, done: false &#125;console.log(g.next());// &#123; value: 2, done: false &#125;console.log(g.next());// &#123; value: 3, done: false &#125;console.log(g.throw(\"Throw Exception\"));//Error message: Throw Exception//&#123; value: undefined, done: true &#125;\n여기서 try-catch 구문에 yield를 추가하면 어떻게 될까?123456789101112131415161718function* idMaker(prev, post) &#123;  let value = 0;  try &#123;    while(true) &#123;      yield ++value;    &#125;      &#125; catch(e) &#123;    yield e;  &#125;&#125;let g = idMaker();console.log(g.next());// &#123; value: 1, done: false &#125;console.log(g.next());// &#123; value: 2, done: false &#125;console.log(g.next());// &#123; value: 3, done: false &#125;console.log(g.throw(\"Throw Exception\"));//&#123; value: 'Throw Exception', done: false &#125;console.log(g.next());// &#123; value: undefined, done: true &#125;\n바로 이터레이터가 종료되지 않고 yield 다음의 구문이 실행된다.\nyield* 키워드yield에 *를 붙인 다음 [expression]에 이터러블 오브젝트를 작성할 수 있다. 이렇게 되면 해당 yield가 수행될 때 이터러블 오브젝트를 순회하게 된다. 코드를 통해 살펴보자.123456789101112function* gen() &#123;  yield 1;  yield* [10, 20, 30];  yield 2;&#125;let g = gen();console.log(g.next());// &#123; value: 1, done: false &#125;console.log(g.next());// &#123; value: 10, done: false &#125;console.log(g.next());// &#123; value: 20, done: false &#125;console.log(g.next());// &#123; value: 30, done: false &#125;console.log(g.next());// &#123; value: 2, done: false &#125;console.log(g.next());// &#123; value: undefined, done: true &#125;\n우선적으로 배열을 순회한 후에, 다음에 해당하는 yield를 수행하게 된다.\n마무리문법을 아는 것과 실제 프로그래밍에서 적용하는 것은 확실히 다른 문제이다. 지금 yield의 향연을 보고 이걸 어디에다가 쓰나 하는 생각이 들 것이다. 다음 링크들을 참고하면 좀 나아질 것 같아서, 몇 가지 링크를 첨부한다.\nES6의 제너레이터를 사용한 비동기 프로그래밍Javascript의 Generator와 Koa.js자바스크립트와 비동기 오류 처리\nReferenceMDN function*\n예제로 사용된 코드는 Github Respository에서 확인하실 수 있습니다.\n10. end\n","dateCreated":"2017-04-22T17:49:54+09:00","dateModified":"2017-04-24T17:58:05+09:00","datePublished":"2017-04-22T17:49:54+09:00","description":"","headline":"[ES6] 10. Generator","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/"},"publisher":{"@type":"Organization","name":"Jbee","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/","keywords":"es6"}</script>
    <meta name="description" content="[ES6] 10. GeneratorGenerator는 무엇인가?Generator function으로 반환된 값을 Generator Object라고 하고 이 Generator Obejct는 iterator 프로토콜을 따르고 있다. 즉 [Symbol.iterator]가 프로퍼티에 추가되어 있다는 것이다. Generator function안에서는 yield라는">
<meta name="keywords" content="es6">
<meta property="og:type" content="blog">
<meta property="og:title" content="[ES6] 10. Generator">
<meta property="og:url" content="https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/index.html">
<meta property="og:site_name" content="Devlog">
<meta property="og:description" content="[ES6] 10. GeneratorGenerator는 무엇인가?Generator function으로 반환된 값을 Generator Object라고 하고 이 Generator Obejct는 iterator 프로토콜을 따르고 있다. 즉 [Symbol.iterator]가 프로퍼티에 추가되어 있다는 것이다. Generator function안에서는 yield라는">
<meta property="og:image" content="https://jaeyeophan.github.io/images/javascript_es6.png">
<meta property="og:updated_time" content="2017-04-24T08:58:05.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[ES6] 10. Generator">
<meta name="twitter:description" content="[ES6] 10. GeneratorGenerator는 무엇인가?Generator function으로 반환된 값을 Generator Object라고 하고 이 Generator Obejct는 iterator 프로토콜을 따르고 있다. 즉 [Symbol.iterator]가 프로퍼티에 추가되어 있다는 것이다. Generator function안에서는 yield라는">
<meta name="twitter:image" content="https://jaeyeophan.github.io/images/javascript_es6.png">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Devlog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Search"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google +">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/mailto"
                            title="Mail"
                        >
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [ES6] 10. Generator
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2017-04-22T17:49:54+09:00">
	
		    Apr 22, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/ECMAScript6/">ECMAScript6</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p><img src="/images/javascript_es6.png" alt=""></p>
<h1 id="ES6-10-Generator"><a href="#ES6-10-Generator" class="headerlink" title="[ES6] 10. Generator"></a>[ES6] 10. Generator</h1><h2 id="Generator는-무엇인가"><a href="#Generator는-무엇인가" class="headerlink" title="Generator는 무엇인가?"></a>Generator는 무엇인가?</h2><p><code>Generator function</code>으로 반환된 값을 <code>Generator Object</code>라고 하고 이 <code>Generator Obejct</code>는 <code>iterator</code> 프로토콜을 따르고 있다. 즉 <code>[Symbol.iterator]</code>가 프로퍼티에 추가되어 있다는 것이다. <code>Generator function</code>안에서는 <code>yield</code>라는 키워드를 사용해서 함수에 내부에 작성된 코드를 전부 실행하지 않는다. 제너레이터 함수는 <code>yield</code>를 기준으로 실행을 나누어서 진행한다. <code>iterator</code>프로토콜을 따르고 있기 때문에 순차적으로 실행할 수 있는 것이다.<br><em>cf&gt;<code>Generator function</code>를 <code>제너레이터 함수</code>로, <code>Generator Object</code>를 <code>제너레이터 오브젝트</code>로 표기.</em></p>
<h2 id="Generator-Function"><a href="#Generator-Function" class="headerlink" title="Generator Function"></a>Generator Function</h2><p><code>function*</code>로 표현할 수 있으며, 작성할 때는 일반 <code>function</code>처럼 선언문과 표현식으로 작성할 수 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">calc</span>(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"generator start"</span>);</div><div class="line">  <span class="keyword">yield</span> prev + post;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> calc = <span class="function"><span class="keyword">function</span>*(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"generator start"</span>);</div><div class="line">  <span class="keyword">yield</span> prev + post;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>제너리에터 함수에 의해 반환되는 값은 제너레이터 오브젝트이다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> generator = calc(<span class="number">1</span>, <span class="number">2</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> generator); <span class="comment">// object</span></div></pre></td></tr></table></figure></p>
<p>제너레이터 오브젝트를 반환하는 순간에는 오브젝트를 반환하기만 할 뿐, 내부 코드는 실행되지 않는다.</p>
<h2 id="Generator-Object"><a href="#Generator-Object" class="headerlink" title="Generator Object"></a>Generator Object</h2><p><code>new</code> 키워드를 사용하여 인스턴스를 생성할 수 없다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cal = <span class="keyword">new</span> calc();<span class="comment">// Error</span></div><div class="line"><span class="comment">//TypeError: calc is not a constructor</span></div></pre></td></tr></table></figure></p>
<p><code>next()</code> 메소드를 통해 제너레이터 함수를 실행시킬 수 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(generator.next());</div><div class="line"><span class="comment">//generator start</span></div><div class="line"><span class="comment">//&#123; value: 3, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(generator.next());</div><div class="line"><span class="comment">//&#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure></p>
<p><code>iterator</code>의 <code>next()</code>메소드를 실행시킨 것처럼 <code>value</code>와 <code>done</code>이라는 프로퍼티를 갖고 있는 객체로 반환된다. 그런데 첫번째 <code>next()</code>메소드 실행 시에는 <code>generator start</code>가 출력되었는데, 두번째 실행 시에는 출력되지 않았다. <code>yield</code>라는 키워드를 중심으로 함수가 나눠 실행되는 것이다.</p>
<h2 id="yield-키워드-함수를-실행하고-멈출-수-있다"><a href="#yield-키워드-함수를-실행하고-멈출-수-있다" class="headerlink" title="yield 키워드, 함수를 실행하고 멈출 수 있다."></a>yield 키워드, 함수를 실행하고 멈출 수 있다.</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[returnValue] = <span class="keyword">yield</span>[expression]</div></pre></td></tr></table></figure>
<p>위와 같은 구문으로 <code>yield</code>를 작성할 수 있다.</p>
<p>위의 예제 코드에서 살펴봤듯이, <code>next()</code> 메소드의 반환 값은 <code>value</code>와 <code>done</code>으로 구성되어 있는 오브젝트이다. 제너레이터의 메소드 <code>next()</code>에서 이 두 가지의 값은 yield에 의해 결정된다. <code>value</code>가 결정되는 규칙이 조금 복잡하다.</p>
<h5 id="value-결정-규칙"><a href="#value-결정-규칙" class="headerlink" title="value 결정 규칙"></a>value 결정 규칙</h5><ul>
<li><code>expression</code>으로 반환되는 값이 할당.<br>이 때, <code>expression</code>에 있는 값이 <code>returnValue</code>에 할당되지 않는다.</li>
<li><code>expression</code>에 아무것도 없으면 <code>undefined</code>가 할당.<br>이 때, <code>next()</code>의 파라미터로 넘겨지는 값이 <code>returnValue</code>에 할당된다.</li>
</ul>
<h5 id="done-결정-규칙"><a href="#done-결정-규칙" class="headerlink" title="done 결정 규칙"></a>done 결정 규칙</h5><ul>
<li>계속 수행할 <code>yield</code>가 남아있으면 <code>false</code>.</li>
<li>더 이상 실행할 <code>yield</code>가 없으면 <code>true</code>.</li>
</ul>
<p><em>예제 코드를 살펴보자.</em><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">calc</span>(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> result = <span class="number">0</span>;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Initial result: <span class="subst">$&#123;result&#125;</span>`</span>);</div><div class="line">  result = <span class="keyword">yield</span> prev + post;</div><div class="line"></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Middle result: <span class="subst">$&#123;result&#125;</span>`</span>);</div><div class="line"></div><div class="line">  result = <span class="keyword">yield</span>;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Last result: <span class="subst">$&#123;result&#125;</span>`</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> generator = calc(<span class="number">10</span>, <span class="number">20</span>);</div></pre></td></tr></table></figure></p>
<p>위에서 언급한 규칙에 대한 내용을 모두 담고 있는 예제코드이다. <code>console.log()</code>에는 어떠한 값이 찍히게 될까? 코드를 통해 하나씩 살펴보자.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(generator.next());</div><div class="line"><span class="comment">// Initial result: 0</span></div><div class="line"><span class="comment">// &#123; value: 30, done: false &#125;</span></div></pre></td></tr></table></figure></p>
<p><code>next()</code> 메소드를 실행시키면 첫번째 yield까지 실행한다.<br>초기 <code>result</code> 변수에 대한 값이 출력되고,<br><code>expression</code>으로 계산된 값인 <code>30</code>이 <code>value</code>이 출력된다.<br>아직 <code>yield</code>가 남았으니 <code>done</code>은 <code>false</code>가 되겠다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(generator.next());</div><div class="line"><span class="comment">// Middle result: undefined</span></div><div class="line"><span class="comment">// &#123; value: undefined, done: false &#125;</span></div></pre></td></tr></table></figure>
<p>두번째 yield까지 실행한다.<br><code>expression</code> 값이 <code>result</code>에 할당되지 않은 것을 확인할 수 있다.<br>아직 <code>yield</code>가 남았으니 <code>done</code>은 <code>false</code>가 되겠다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(generator.next(<span class="number">20</span>));</div><div class="line"><span class="comment">// Last result: 20</span></div><div class="line"><span class="comment">// &#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure>
<p>yield가 없으므로 brace까지 실행한다.<br><code>next()</code>메소드의 파라미터로 넘겨진 <code>20</code>이 <code>result</code> 변수에 할당된 것을 확인할 수 있다.<br>더이상 <code>yield</code> 키워드가 없으므로 <code>done</code>은 <code>true</code>가 된다.</p>
<h3 id="yield-대신-return"><a href="#yield-대신-return" class="headerlink" title="yield 대신 return"></a>yield 대신 return</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">calc</span>(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> prev + post;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> generator = calc(<span class="number">10</span>, <span class="number">20</span>);</div><div class="line"><span class="built_in">console</span>.log(generator.next());</div><div class="line"><span class="comment">// &#123; value: 30, done: true &#125;</span></div></pre></td></tr></table></figure>
<p><code>return</code> 키워드 뒤에 오는 값이 <code>value</code>에 할당되고 <code>yield</code> 키워드의 유무와 상관없이 <code>done</code>에는 <code>true</code>가 할당된다. <code>return</code>은 수행되고 있는 이터레이터를 종료시키는 역할을 수행한다.</p>
<h3 id="이터레이터-종료하기"><a href="#이터레이터-종료하기" class="headerlink" title="이터레이터 종료하기"></a>이터레이터 종료하기</h3><p><code>yield</code> 키워드의 유무와 상관없이 이터레이터를 종료하고자 할 때는 제너레이터 오브젝트의 <code>throw()</code>메소드와 <code>return()</code>메소드를 사용할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">idMaker</span>(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> value = <span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">    <span class="keyword">yield</span> ++value;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> g = idMaker();</div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 1, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 2, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 3, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.return(<span class="number">100</span>));<span class="comment">// &#123; value: 100, done: true &#125;</span></div></pre></td></tr></table></figure>
<p><code>return()</code>메소드의 파라미터로 넘어가는 값이 <code>value</code>에 할당된다.<br>위의 예제 코드에 <code>return()</code> 대신 <code>throw()</code>를 호출하게 되면 파라미터로 넘겨준 Error Message를 출력하고 이터레이터가 바로 종료된다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">idMaker</span>(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> value = <span class="number">0</span>;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">      <span class="keyword">yield</span> ++value;</div><div class="line">    &#125;    </div><div class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`Error message: <span class="subst">$&#123;e&#125;</span>`</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> g = idMaker();</div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 1, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 2, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 3, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.throw(<span class="string">"Throw Exception"</span>));</div><div class="line"><span class="comment">//Error message: Throw Exception</span></div><div class="line"><span class="comment">//&#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure></p>
<p>여기서 <code>try-catch</code> 구문에 <code>yield</code>를 추가하면 어떻게 될까?<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">idMaker</span>(<span class="params">prev, post</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> value = <span class="number">0</span>;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">      <span class="keyword">yield</span> ++value;</div><div class="line">    &#125;    </div><div class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</div><div class="line">    <span class="keyword">yield</span> e;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> g = idMaker();</div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 1, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 2, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 3, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.throw(<span class="string">"Throw Exception"</span>));</div><div class="line"><span class="comment">//&#123; value: 'Throw Exception', done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure></p>
<p>바로 이터레이터가 종료되지 않고 <code>yield</code> 다음의 구문이 실행된다.</p>
<h2 id="yield-키워드"><a href="#yield-키워드" class="headerlink" title="yield* 키워드"></a>yield* 키워드</h2><p><code>yield</code>에 <code>*</code>를 붙인 다음 <code>[expression]</code>에 이터러블 오브젝트를 작성할 수 있다. 이렇게 되면 해당 <code>yield</code>가 수행될 때 이터러블 오브젝트를 순회하게 된다. 코드를 통해 살펴보자.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</div><div class="line">  <span class="keyword">yield</span>* [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</div><div class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> g = gen();</div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 1, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 10, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 20, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 30, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: 2, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(g.next());<span class="comment">// &#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure></p>
<p>우선적으로 배열을 순회한 후에, 다음에 해당하는 <code>yield</code>를 수행하게 된다.</p>
<h4 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h4><p>문법을 아는 것과 실제 프로그래밍에서 적용하는 것은 확실히 다른 문제이다. 지금 <code>yield</code>의 향연을 보고 이걸 어디에다가 쓰나 하는 생각이 들 것이다. 다음 링크들을 참고하면 좀 나아질 것 같아서, 몇 가지 링크를 첨부한다.</p>
<p><a href="http://meetup.toast.com/posts/73" target="_blank" rel="external">ES6의 제너레이터를 사용한 비동기 프로그래밍</a><br><a href="http://www.haruair.com/blog/3425" target="_blank" rel="external">Javascript의 Generator와 Koa.js</a><br><a href="http://blog.coderifleman.com/2014/11/15/javascript-and-async-error/" target="_blank" rel="external">자바스크립트와 비동기 오류 처리</a></p>
<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><p><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/function*" target="_blank" rel="external">MDN function*</a></p>
<p>예제로 사용된 코드는 <a href="https://github.com/JaeYeopHan/ECMAScript6_study" target="_blank" rel="external">Github Respository</a>에서 확인하실 수 있습니다.</p>
<p><em>10. end</em></p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/es6/">es6</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/04/21/YARN-New-Package-Manger/" data-tooltip="YARN, 새로운 Package Manger" aria-label="PREVIOUS: YARN, 새로운 Package Manger">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/04/23/BDD-1-mocha/" data-tooltip="[TDD] 1. Mocha - Getting started" aria-label="NEXT: [TDD] 1. Mocha - Getting started">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Jbee. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/04/21/YARN-New-Package-Manger/" data-tooltip="YARN, 새로운 Package Manger" aria-label="PREVIOUS: YARN, 새로운 Package Manger">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/04/23/BDD-1-mocha/" data-tooltip="[TDD] 1. Mocha - Getting started" aria-label="NEXT: [TDD] 1. Mocha - Getting started">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://jaeyeophan.github.io/2017/04/22/ES6-10-Generator/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Jbee</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->

    



    </body>
</html>


<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Devlog">
    <title>[ES6] 13. Map, WeakMap - Devlog</title>
    <meta name="author" content="Jbee">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/feed.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jbee","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"\n[ES6] 13. Map, WeakMap APIMap Object아시다시피, Map오브젝트는 key-value의 자료구조입니다. 기존 자바스크립트의 Object도 마찬가지로 key-value형식으로 구성되는데요, Map오브젝트는 key로 사용될 수 있는 타입이 다양하다는 것이 다른 점이라고 할 수 있습니다. 또한 Map오브젝트는 Object 오브젝트와는 달리 이터러블 오브젝트입니다. 그렇기 때문에 for-of statement를 사용하여 순회할 수 있습니다.\nMap오브젝트는 새로 추가되는 값의 key와 기존에 저장되어 있던 데이터의 key의 값이 동일하면 추가되지 않습니다. Java에서의 Map은 key를 hash값으로 저장하기 때문에 동일한 hash 값에 대해서 추가하지 않는데요, JavaScript에서는 조금 다른 방식으로 이를 판단합니다. key와 value가 저장될 때, 엔진이 별도의 일련 번호를 부여하여 이를 판단하게 됩니다. 또한 이 일련번호로 추가된 순서를 보장해줍니다.\n다음과 같이 정리할 수 있겠습니다.\n다양한 타입으로 key를 정의할 수 있다.\n이터러블 오브젝트(iterable object)이다.\n중복된 key를 추가할 수 없다.\n중복된 key를 통해 추가하는 경우 해당 key의 value를 덮어쓴다.\n즉 기존 key의 순서를 유지한다.\n\n\n순서를 보장하는 자료구조이다.\n\nNotice예제 코드의 길이을 줄이기 위해 Map의 key와 value를 확인하기 위한 함수를 정의해두고 사용하겠습니다 :)utils.js1234567function printMap(map) &#123;  for (let [key, value] of map) &#123;    console.log(`key: $&#123;key&#125;, value: $&#123;value&#125;`);  &#125;&#125;// Expected console// key: something, value: something\nMap은 이터러블 오브젝트이기 때문에 [key, value]형식으로 값을 받아서 사용할 수 있습니다.물론 다음과 같이 함수를 정의할 수도 있습니다.12345678function print(map) &#123;  for (let item of map) &#123;    console.log(Array.isArray(item));//true    console.log(item);  &#125;&#125;//Expected console// [ 'something', 'something' ]\nfor-of statement에서 추출된 item은 Array입니다. 따라서 console에도 Array 타입으로 찍힙니다.\nnew Map()Map 오브젝트는 다음과 같이 생성가능합니다.1234567891011let newMap = new Map([  ['1', 'one'],  ['2', 'two'],  ['3', 'three']]);printMap(newMap);// console// key: 1, value: one// key: 2, value: two// key: 3, value: three\nMap.prototype.set(), get()key와 value를 설정합니다. set() 메소드의 반환 값은 set() 메소드를 호출한 Map입니다. 그래서 chaining처럼 연속적으로 key와 value를 설정해줄 수 있습니다. get()메소드는 인자로 넘겨간 key값과 일치하는 value를 반환합니다.12345678910111213let webs = new Map();webs.set('1', 'React')    .set('2', 'Angular2')    .set('3', 'Vue')    .set('2', 'Redux');printMap(webs);console.log(`webs.get('1'): $&#123;webs.get('1')&#125;`);// console// key: 1, value: React// key: 2, value: Redux// key: 3, value: Vue// webs.get('1'): React\nMap.prototype.entries(), keys(), values()각각 해당하는 이터레이터 오브젝트를 반환하는 메소드입니다.\nMap.prototype.has().has()는 파라미터로 전달되는 key에 해당하는 값이 존재하는지에 대한 여부를 boolean으로 반환합니다.12console.log(webs.has('1'));//trueconsole.log(webs.has('4'));//false\nMap.prototype.delete(), clear().delete()메소드의 파라미터로 특정 key값을 넘겨주면 해당 key와 value가 map에서 삭제됩니다. .clear()는 모든 key와 value를 삭제합니다.12345678910111213console.log(webs.size);// 3webs.delete('1');console.log(webs.size);// 2printMap(webs);// console// key: 2, value: Redux// key: 3, value: Vuewebs.clear();console.log(webs.size);// 0printMap(webs);// console// undefined\nMap.prototype.forEachforEach의 파라미터로는 콜백 함수를 넘겨줍니다.12345678webs.forEach((value, key, obj) =&gt; &#123;  console.log(`key: $&#123;key&#125;, value: $&#123;value&#125;`);&#125;);// console// key: 1, value: React// key: 2, value: Redux// key: 3, value: Vue\n넘겨지는 콜백 함수에는 세 가지 인자가 전달될 수 있습니다. key, value의 순서가 조금 다르다는 것에 주의하면 되겠네요. 세 번째 인자로는 콜백 함수 내부에서 this로 참조할 오브젝트가 전달됩니다.\nWeakMap ObjectWeakMap 오브젝트의 key에는 Object만 지정될 수 있습니다.\nGC와의 연관성key로 사용하고 있던 Object 오브젝트가 메모리에서 사라질 경우, 즉 GC에 의해서 Garbage Colleting이 되면, 더이상 value의 key로서 역할을 수행하지 못합니다. 그렇기 때문에 이 key에 대한 내용을 삭제해줘야 한다. 메모리에서 사라진 key에 대해서 삭제하는 작업을 WeakMap을 사용하면 자동으로 해결됩니다.\nAPIset(), get(), has(), delete() 이 네 가지 API만 제공할 뿐, 열거를 위한 API는 제공하지 않습니다. 또한 size 프로퍼티가 존재하지 않기 때문에, 특정 시점의 [key, value]의 수를 알 수 없습니다. 이는 WeakMap 자체적으로 key를 제거하므로 값이 비결정적이기 때문에 API를 통해 제공되지 않습니다.\ncf) Set 자료구조는 Map자료구조의 key에 value가 들어가게 되는 자료구조 입니다. 그러므로 Map과 거의 유사한 API를 제공하며 저장하는 방식의 차이만 존재합니다. 마찬가지로 Set과 WeakSet은 Map과 WeakMap의 관계와 동일합니다.\n예제로 사용된 코드는 Github Respository에서 확인하실 수 있습니다.\n13. end\n","dateCreated":"2017-06-05T14:44:56+09:00","dateModified":"2017-06-07T13:35:48+09:00","datePublished":"2017-06-05T14:44:56+09:00","description":"","headline":"[ES6] 13. Map, WeakMap","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/"},"publisher":{"@type":"Organization","name":"Jbee","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/","keywords":"es6"}</script>
    <meta name="description" content="[ES6] 13. Map, WeakMap APIMap Object아시다시피, Map오브젝트는 key-value의 자료구조입니다. 기존 자바스크립트의 Object도 마찬가지로 key-value형식으로 구성되는데요, Map오브젝트는 key로 사용될 수 있는 타입이 다양하다는 것이 다른 점이라고 할 수 있습니다. 또한 Map오브젝트는 Object 오브젝트와는">
<meta name="keywords" content="es6">
<meta property="og:type" content="blog">
<meta property="og:title" content="[ES6] 13. Map, WeakMap">
<meta property="og:url" content="https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/index.html">
<meta property="og:site_name" content="Devlog">
<meta property="og:description" content="[ES6] 13. Map, WeakMap APIMap Object아시다시피, Map오브젝트는 key-value의 자료구조입니다. 기존 자바스크립트의 Object도 마찬가지로 key-value형식으로 구성되는데요, Map오브젝트는 key로 사용될 수 있는 타입이 다양하다는 것이 다른 점이라고 할 수 있습니다. 또한 Map오브젝트는 Object 오브젝트와는">
<meta property="og:image" content="https://jaeyeophan.github.io/images/javascript_es6.png">
<meta property="og:updated_time" content="2017-06-07T04:35:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[ES6] 13. Map, WeakMap">
<meta name="twitter:description" content="[ES6] 13. Map, WeakMap APIMap Object아시다시피, Map오브젝트는 key-value의 자료구조입니다. 기존 자바스크립트의 Object도 마찬가지로 key-value형식으로 구성되는데요, Map오브젝트는 key로 사용될 수 있는 타입이 다양하다는 것이 다른 점이라고 할 수 있습니다. 또한 Map오브젝트는 Object 오브젝트와는">
<meta name="twitter:image" content="https://jaeyeophan.github.io/images/javascript_es6.png">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Devlog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Search"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google +">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/mailto"
                            title="Mail"
                        >
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [ES6] 13. Map, WeakMap
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2017-06-05T14:44:56+09:00">
	
		    Jun 05, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/ECMAScript6/">ECMAScript6</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p><img src="/images/javascript_es6.png" alt=""></p>
<h1 id="ES6-13-Map-WeakMap-API"><a href="#ES6-13-Map-WeakMap-API" class="headerlink" title="[ES6] 13. Map, WeakMap API"></a>[ES6] 13. Map, WeakMap API</h1><h2 id="Map-Object"><a href="#Map-Object" class="headerlink" title="Map Object"></a>Map Object</h2><p>아시다시피, <code>Map</code>오브젝트는 key-value의 자료구조입니다. 기존 자바스크립트의 Object도 마찬가지로 key-value형식으로 구성되는데요, <code>Map</code>오브젝트는 <code>key</code>로 사용될 수 있는 타입이 다양하다는 것이 다른 점이라고 할 수 있습니다. 또한 <code>Map</code>오브젝트는 Object 오브젝트와는 달리 <code>이터러블 오브젝트</code>입니다. 그렇기 때문에 <code>for-of</code> statement를 사용하여 순회할 수 있습니다.</p>
<p><code>Map</code>오브젝트는 새로 추가되는 값의 <code>key</code>와 기존에 저장되어 있던 데이터의 <code>key</code>의 값이 동일하면 추가되지 않습니다. Java에서의 Map은 key를 hash값으로 저장하기 때문에 동일한 hash 값에 대해서 추가하지 않는데요, JavaScript에서는 조금 다른 방식으로 이를 판단합니다. key와 value가 저장될 때, 엔진이 별도의 일련 번호를 부여하여 이를 판단하게 됩니다. 또한 이 일련번호로 추가된 순서를 보장해줍니다.</p>
<h5 id="다음과-같이-정리할-수-있겠습니다"><a href="#다음과-같이-정리할-수-있겠습니다" class="headerlink" title="다음과 같이 정리할 수 있겠습니다."></a>다음과 같이 정리할 수 있겠습니다.</h5><ul>
<li>다양한 타입으로 <code>key</code>를 정의할 수 있다.</li>
<li>이터러블 오브젝트(iterable object)이다.</li>
<li>중복된 <code>key</code>를 추가할 수 없다.</li>
<li>중복된 <code>key</code>를 통해 추가하는 경우 해당 <code>key</code>의 <code>value</code>를 덮어쓴다.<ul>
<li>즉 기존 <code>key</code>의 순서를 유지한다.</li>
</ul>
</li>
<li>순서를 보장하는 자료구조이다.</li>
</ul>
<h4 id="Notice"><a href="#Notice" class="headerlink" title="Notice"></a>Notice</h4><p>예제 코드의 길이을 줄이기 위해 <code>Map</code>의 key와 value를 확인하기 위한 함수를 정의해두고 사용하겠습니다 :)<br><figure class="highlight js"><figcaption><span>utils.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printMap</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`key: <span class="subst">$&#123;key&#125;</span>, value: <span class="subst">$&#123;value&#125;</span>`</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// Expected console</span></div><div class="line"><span class="comment">// key: something, value: something</span></div></pre></td></tr></table></figure></p>
<p><code>Map</code>은 이터러블 오브젝트이기 때문에 <code>[key, value]</code>형식으로 값을 받아서 사용할 수 있습니다.<br>물론 다음과 같이 함수를 정의할 수도 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> map) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(item));<span class="comment">//true</span></div><div class="line">    <span class="built_in">console</span>.log(item);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//Expected console</span></div><div class="line"><span class="comment">// [ 'something', 'something' ]</span></div></pre></td></tr></table></figure></p>
<p><code>for-of</code> statement에서 추출된 <code>item</code>은 <code>Array</code>입니다. 따라서 console에도 <code>Array</code> 타입으로 찍힙니다.</p>
<h3 id="new-Map"><a href="#new-Map" class="headerlink" title="new Map()"></a>new Map()</h3><p><code>Map</code> 오브젝트는 다음과 같이 생성가능합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> newMap = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">  [<span class="string">'1'</span>, <span class="string">'one'</span>],</div><div class="line">  [<span class="string">'2'</span>, <span class="string">'two'</span>],</div><div class="line">  [<span class="string">'3'</span>, <span class="string">'three'</span>]</div><div class="line">]);</div><div class="line"></div><div class="line">printMap(newMap);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 1, value: one</span></div><div class="line"><span class="comment">// key: 2, value: two</span></div><div class="line"><span class="comment">// key: 3, value: three</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-set-get"><a href="#Map-prototype-set-get" class="headerlink" title="Map.prototype.set(), get()"></a>Map.prototype.set(), get()</h3><p>key와 value를 설정합니다. <code>set()</code> 메소드의 반환 값은 <code>set()</code> 메소드를 호출한 Map입니다. 그래서 chaining처럼 연속적으로 key와 value를 설정해줄 수 있습니다. <code>get()</code>메소드는 인자로 넘겨간 <code>key</code>값과 일치하는 <code>value</code>를 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> webs = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">webs.set(<span class="string">'1'</span>, <span class="string">'React'</span>)</div><div class="line">    .set(<span class="string">'2'</span>, <span class="string">'Angular2'</span>)</div><div class="line">    .set(<span class="string">'3'</span>, <span class="string">'Vue'</span>)</div><div class="line">    .set(<span class="string">'2'</span>, <span class="string">'Redux'</span>);</div><div class="line"></div><div class="line">printMap(webs);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">`webs.get('1'): <span class="subst">$&#123;webs.get(<span class="string">'1'</span>)&#125;</span>`</span>);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 1, value: React</span></div><div class="line"><span class="comment">// key: 2, value: Redux</span></div><div class="line"><span class="comment">// key: 3, value: Vue</span></div><div class="line"><span class="comment">// webs.get('1'): React</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-entries-keys-values"><a href="#Map-prototype-entries-keys-values" class="headerlink" title="Map.prototype.entries(), keys(), values()"></a>Map.prototype.entries(), keys(), values()</h3><p>각각 해당하는 이터레이터 오브젝트를 반환하는 메소드입니다.</p>
<h3 id="Map-prototype-has"><a href="#Map-prototype-has" class="headerlink" title="Map.prototype.has()"></a>Map.prototype.has()</h3><p><code>.has()</code>는 파라미터로 전달되는 <code>key</code>에 해당하는 값이 존재하는지에 대한 여부를 <code>boolean</code>으로 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(webs.has(<span class="string">'1'</span>));<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(webs.has(<span class="string">'4'</span>));<span class="comment">//false</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-delete-clear"><a href="#Map-prototype-delete-clear" class="headerlink" title="Map.prototype.delete(), clear()"></a>Map.prototype.delete(), clear()</h3><p><code>.delete()</code>메소드의 파라미터로 특정 <code>key</code>값을 넘겨주면 해당 key와 value가 map에서 삭제됩니다. <code>.clear()</code>는 모든 <code>key</code>와 <code>value</code>를 삭제합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(webs.size);<span class="comment">// 3</span></div><div class="line">webs.delete(<span class="string">'1'</span>);</div><div class="line"><span class="built_in">console</span>.log(webs.size);<span class="comment">// 2</span></div><div class="line">printMap(webs);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 2, value: Redux</span></div><div class="line"><span class="comment">// key: 3, value: Vue</span></div><div class="line"></div><div class="line">webs.clear();</div><div class="line"><span class="built_in">console</span>.log(webs.size);<span class="comment">// 0</span></div><div class="line">printMap(webs);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// undefined</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-forEach"><a href="#Map-prototype-forEach" class="headerlink" title="Map.prototype.forEach"></a>Map.prototype.forEach</h3><p><code>forEach</code>의 파라미터로는 콜백 함수를 넘겨줍니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">webs.forEach(<span class="function">(<span class="params">value, key, obj</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`key: <span class="subst">$&#123;key&#125;</span>, value: <span class="subst">$&#123;value&#125;</span>`</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 1, value: React</span></div><div class="line"><span class="comment">// key: 2, value: Redux</span></div><div class="line"><span class="comment">// key: 3, value: Vue</span></div></pre></td></tr></table></figure></p>
<p>넘겨지는 콜백 함수에는 세 가지 인자가 전달될 수 있습니다. key, value의 순서가 조금 다르다는 것에 주의하면 되겠네요. 세 번째 인자로는 콜백 함수 내부에서 <code>this</code>로 참조할 오브젝트가 전달됩니다.</p>
<h2 id="WeakMap-Object"><a href="#WeakMap-Object" class="headerlink" title="WeakMap Object"></a>WeakMap Object</h2><p><code>WeakMap</code> 오브젝트의 <code>key</code>에는 Object만 지정될 수 있습니다.</p>
<h3 id="GC와의-연관성"><a href="#GC와의-연관성" class="headerlink" title="GC와의 연관성"></a>GC와의 연관성</h3><p><code>key</code>로 사용하고 있던 Object 오브젝트가 메모리에서 사라질 경우, 즉 GC에 의해서 Garbage Colleting이 되면, 더이상 <code>value</code>의 <code>key</code>로서 역할을 수행하지 못합니다. 그렇기 때문에 이 key에 대한 내용을 삭제해줘야 한다. 메모리에서 사라진 <code>key</code>에 대해서 삭제하는 작업을 <code>WeakMap</code>을 사용하면 자동으로 해결됩니다.</p>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p><code>set()</code>, <code>get()</code>, <code>has()</code>, <code>delete()</code> 이 네 가지 API만 제공할 뿐, 열거를 위한 API는 제공하지 않습니다. 또한 <code>size</code> 프로퍼티가 존재하지 않기 때문에, 특정 시점의 <code>[key, value]</code>의 수를 알 수 없습니다. 이는 <code>WeakMap</code> 자체적으로 <code>key</code>를 제거하므로 값이 비결정적이기 때문에 API를 통해 제공되지 않습니다.</p>
<p><em>cf) <code>Set</code> 자료구조는 <code>Map</code>자료구조의 <code>key</code>에 <code>value</code>가 들어가게 되는 자료구조 입니다. 그러므로 <code>Map</code>과 거의 유사한 API를 제공하며 저장하는 방식의 차이만 존재합니다. 마찬가지로 <code>Set</code>과 <code>WeakSet</code>은 <code>Map</code>과 <code>WeakMap</code>의 관계와 동일합니다.</em></p>
<p>예제로 사용된 코드는 <a href="https://github.com/JaeYeopHan/ECMAScript6_study" target="_blank" rel="external">Github Respository</a>에서 확인하실 수 있습니다.</p>
<p><em>13. end</em></p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/es6/">es6</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/05/19/React-2-Elements-and-Component/" data-tooltip="[React] 2. Elements and Component" aria-label="PREVIOUS: [React] 2. Elements and Component">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/06/13/React-3-Props-and-State-in-Component/" data-tooltip="[React] 3. Props and State in Component" aria-label="NEXT: [React] 3. Props and State in Component">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Jbee. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/05/19/React-2-Elements-and-Component/" data-tooltip="[React] 2. Elements and Component" aria-label="PREVIOUS: [React] 2. Elements and Component">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/06/13/React-3-Props-and-State-in-Component/" data-tooltip="[React] 3. Props and State in Component" aria-label="NEXT: [React] 3. Props and State in Component">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://jaeyeophan.github.io/2017/06/05/ES6-13-Map-WeakMap/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Jbee</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->

    



    </body>
</html>


<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Devlog">
    <title>Devlog</title>
    <meta name="author" content="Jbee">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/feed.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"Website","@id":"https://jaeyeophan.github.io","author":{"@type":"Person","name":"Jbee","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"name":"Devlog","description":"blog posted about front end development","url":"https://jaeyeophan.github.io"}</script>
    <meta name="description" content="blog posted about front end development">
<meta property="og:type" content="blog">
<meta property="og:title" content="Devlog">
<meta property="og:url" content="https://jaeyeophan.github.io/page/3/index.html">
<meta property="og:site_name" content="Devlog">
<meta property="og:description" content="blog posted about front end development">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Devlog">
<meta name="twitter:description" content="blog posted about front end development">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Devlog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Search"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google +">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/mailto"
                            title="Mail"
                        >
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/06/05/ES6-13-Map-WeakMap/">
                            [ES6] 13. Map, WeakMap
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-06-05T14:44:56+09:00">
	
		    Jun 05, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/ECMAScript6/">ECMAScript6</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="/images/javascript_es6.png" alt=""></p>
<h1 id="ES6-13-Map-WeakMap-API"><a href="#ES6-13-Map-WeakMap-API" class="headerlink" title="[ES6] 13. Map, WeakMap API"></a>[ES6] 13. Map, WeakMap API</h1><h2 id="Map-Object"><a href="#Map-Object" class="headerlink" title="Map Object"></a>Map Object</h2><p>아시다시피, <code>Map</code>오브젝트는 key-value의 자료구조입니다. 기존 자바스크립트의 Object도 마찬가지로 key-value형식으로 구성되는데요, <code>Map</code>오브젝트는 <code>key</code>로 사용될 수 있는 타입이 다양하다는 것이 다른 점이라고 할 수 있습니다. 또한 <code>Map</code>오브젝트는 Object 오브젝트와는 달리 <code>이터러블 오브젝트</code>입니다. 그렇기 때문에 <code>for-of</code> statement를 사용하여 순회할 수 있습니다.</p>
<p><code>Map</code>오브젝트는 새로 추가되는 값의 <code>key</code>와 기존에 저장되어 있던 데이터의 <code>key</code>의 값이 동일하면 추가되지 않습니다. Java에서의 Map은 key를 hash값으로 저장하기 때문에 동일한 hash 값에 대해서 추가하지 않는데요, JavaScript에서는 조금 다른 방식으로 이를 판단합니다. key와 value가 저장될 때, 엔진이 별도의 일련 번호를 부여하여 이를 판단하게 됩니다. 또한 이 일련번호로 추가된 순서를 보장해줍니다.</p>
<h5 id="다음과-같이-정리할-수-있겠습니다"><a href="#다음과-같이-정리할-수-있겠습니다" class="headerlink" title="다음과 같이 정리할 수 있겠습니다."></a>다음과 같이 정리할 수 있겠습니다.</h5><ul>
<li>다양한 타입으로 <code>key</code>를 정의할 수 있다.</li>
<li>이터러블 오브젝트(iterable object)이다.</li>
<li>중복된 <code>key</code>를 추가할 수 없다.</li>
<li>중복된 <code>key</code>를 통해 추가하는 경우 해당 <code>key</code>의 <code>value</code>를 덮어쓴다.<ul>
<li>즉 기존 <code>key</code>의 순서를 유지한다.</li>
</ul>
</li>
<li>순서를 보장하는 자료구조이다.</li>
</ul>
<h4 id="Notice"><a href="#Notice" class="headerlink" title="Notice"></a>Notice</h4><p>예제 코드의 길이을 줄이기 위해 <code>Map</code>의 key와 value를 확인하기 위한 함수를 정의해두고 사용하겠습니다 :)<br><figure class="highlight js"><figcaption><span>utils.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printMap</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`key: <span class="subst">$&#123;key&#125;</span>, value: <span class="subst">$&#123;value&#125;</span>`</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// Expected console</span></div><div class="line"><span class="comment">// key: something, value: something</span></div></pre></td></tr></table></figure></p>
<p><code>Map</code>은 이터러블 오브젝트이기 때문에 <code>[key, value]</code>형식으로 값을 받아서 사용할 수 있습니다.<br>물론 다음과 같이 함수를 정의할 수도 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> map) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(item));<span class="comment">//true</span></div><div class="line">    <span class="built_in">console</span>.log(item);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//Expected console</span></div><div class="line"><span class="comment">// [ 'something', 'something' ]</span></div></pre></td></tr></table></figure></p>
<p><code>for-of</code> statement에서 추출된 <code>item</code>은 <code>Array</code>입니다. 따라서 console에도 <code>Array</code> 타입으로 찍힙니다.</p>
<h3 id="new-Map"><a href="#new-Map" class="headerlink" title="new Map()"></a>new Map()</h3><p><code>Map</code> 오브젝트는 다음과 같이 생성가능합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> newMap = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">  [<span class="string">'1'</span>, <span class="string">'one'</span>],</div><div class="line">  [<span class="string">'2'</span>, <span class="string">'two'</span>],</div><div class="line">  [<span class="string">'3'</span>, <span class="string">'three'</span>]</div><div class="line">]);</div><div class="line"></div><div class="line">printMap(newMap);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 1, value: one</span></div><div class="line"><span class="comment">// key: 2, value: two</span></div><div class="line"><span class="comment">// key: 3, value: three</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-set-get"><a href="#Map-prototype-set-get" class="headerlink" title="Map.prototype.set(), get()"></a>Map.prototype.set(), get()</h3><p>key와 value를 설정합니다. <code>set()</code> 메소드의 반환 값은 <code>set()</code> 메소드를 호출한 Map입니다. 그래서 chaining처럼 연속적으로 key와 value를 설정해줄 수 있습니다. <code>get()</code>메소드는 인자로 넘겨간 <code>key</code>값과 일치하는 <code>value</code>를 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> webs = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">webs.set(<span class="string">'1'</span>, <span class="string">'React'</span>)</div><div class="line">    .set(<span class="string">'2'</span>, <span class="string">'Angular2'</span>)</div><div class="line">    .set(<span class="string">'3'</span>, <span class="string">'Vue'</span>)</div><div class="line">    .set(<span class="string">'2'</span>, <span class="string">'Redux'</span>);</div><div class="line"></div><div class="line">printMap(webs);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">`webs.get('1'): <span class="subst">$&#123;webs.get(<span class="string">'1'</span>)&#125;</span>`</span>);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 1, value: React</span></div><div class="line"><span class="comment">// key: 2, value: Redux</span></div><div class="line"><span class="comment">// key: 3, value: Vue</span></div><div class="line"><span class="comment">// webs.get('1'): React</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-entries-keys-values"><a href="#Map-prototype-entries-keys-values" class="headerlink" title="Map.prototype.entries(), keys(), values()"></a>Map.prototype.entries(), keys(), values()</h3><p>각각 해당하는 이터레이터 오브젝트를 반환하는 메소드입니다.</p>
<h3 id="Map-prototype-has"><a href="#Map-prototype-has" class="headerlink" title="Map.prototype.has()"></a>Map.prototype.has()</h3><p><code>.has()</code>는 파라미터로 전달되는 <code>key</code>에 해당하는 값이 존재하는지에 대한 여부를 <code>boolean</code>으로 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(webs.has(<span class="string">'1'</span>));<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(webs.has(<span class="string">'4'</span>));<span class="comment">//false</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-delete-clear"><a href="#Map-prototype-delete-clear" class="headerlink" title="Map.prototype.delete(), clear()"></a>Map.prototype.delete(), clear()</h3><p><code>.delete()</code>메소드의 파라미터로 특정 <code>key</code>값을 넘겨주면 해당 key와 value가 map에서 삭제됩니다. <code>.clear()</code>는 모든 <code>key</code>와 <code>value</code>를 삭제합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(webs.size);<span class="comment">// 3</span></div><div class="line">webs.delete(<span class="string">'1'</span>);</div><div class="line"><span class="built_in">console</span>.log(webs.size);<span class="comment">// 2</span></div><div class="line">printMap(webs);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 2, value: Redux</span></div><div class="line"><span class="comment">// key: 3, value: Vue</span></div><div class="line"></div><div class="line">webs.clear();</div><div class="line"><span class="built_in">console</span>.log(webs.size);<span class="comment">// 0</span></div><div class="line">printMap(webs);</div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// undefined</span></div></pre></td></tr></table></figure></p>
<h3 id="Map-prototype-forEach"><a href="#Map-prototype-forEach" class="headerlink" title="Map.prototype.forEach"></a>Map.prototype.forEach</h3><p><code>forEach</code>의 파라미터로는 콜백 함수를 넘겨줍니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">webs.forEach(<span class="function">(<span class="params">value, key, obj</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`key: <span class="subst">$&#123;key&#125;</span>, value: <span class="subst">$&#123;value&#125;</span>`</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// console</span></div><div class="line"><span class="comment">// key: 1, value: React</span></div><div class="line"><span class="comment">// key: 2, value: Redux</span></div><div class="line"><span class="comment">// key: 3, value: Vue</span></div></pre></td></tr></table></figure></p>
<p>넘겨지는 콜백 함수에는 세 가지 인자가 전달될 수 있습니다. key, value의 순서가 조금 다르다는 것에 주의하면 되겠네요. 세 번째 인자로는 콜백 함수 내부에서 <code>this</code>로 참조할 오브젝트가 전달됩니다.</p>
<h2 id="WeakMap-Object"><a href="#WeakMap-Object" class="headerlink" title="WeakMap Object"></a>WeakMap Object</h2><p><code>WeakMap</code> 오브젝트의 <code>key</code>에는 Object만 지정될 수 있습니다.</p>
<h3 id="GC와의-연관성"><a href="#GC와의-연관성" class="headerlink" title="GC와의 연관성"></a>GC와의 연관성</h3><p><code>key</code>로 사용하고 있던 Object 오브젝트가 메모리에서 사라질 경우, 즉 GC에 의해서 Garbage Colleting이 되면, 더이상 <code>value</code>의 <code>key</code>로서 역할을 수행하지 못합니다. 그렇기 때문에 이 key에 대한 내용을 삭제해줘야 한다. 메모리에서 사라진 <code>key</code>에 대해서 삭제하는 작업을 <code>WeakMap</code>을 사용하면 자동으로 해결됩니다.</p>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p><code>set()</code>, <code>get()</code>, <code>has()</code>, <code>delete()</code> 이 네 가지 API만 제공할 뿐, 열거를 위한 API는 제공하지 않습니다. 또한 <code>size</code> 프로퍼티가 존재하지 않기 때문에, 특정 시점의 <code>[key, value]</code>의 수를 알 수 없습니다. 이는 <code>WeakMap</code> 자체적으로 <code>key</code>를 제거하므로 값이 비결정적이기 때문에 API를 통해 제공되지 않습니다.</p>
<p><em>cf) <code>Set</code> 자료구조는 <code>Map</code>자료구조의 <code>key</code>에 <code>value</code>가 들어가게 되는 자료구조 입니다. 그러므로 <code>Map</code>과 거의 유사한 API를 제공하며 저장하는 방식의 차이만 존재합니다. 마찬가지로 <code>Set</code>과 <code>WeakSet</code>은 <code>Map</code>과 <code>WeakMap</code>의 관계와 동일합니다.</em></p>
<p>예제로 사용된 코드는 <a href="https://github.com/JaeYeopHan/ECMAScript6_study" target="_blank" rel="external">Github Respository</a>에서 확인하실 수 있습니다.</p>
<p><em>13. end</em></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/06/05/ES6-13-Map-WeakMap/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2017/06/05/ES6-13-Map-WeakMap/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="undefined"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/05/19/React-2-Elements-and-Component/">
                            [React] 2. Elements and Component
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-05-19T14:02:02+09:00">
	
		    May 19, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/React/">React</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="/images/react_logo.png" alt=""></p>
<h1 id="React-2-Elements-and-Component"><a href="#React-2-Elements-and-Component" class="headerlink" title="[React] 2. Elements and Component"></a>[React] 2. Elements and Component</h1><h2 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h2><p><code>Element</code>는 화면에 표시되는 내용이며, React를 구성하고 있는 가장 작은 블록이라고 할 수 있습니다. 브라우저 요소인 DOM과 달리 React Element는 보다 적은 비용으로 생성할 수 있으며 React DOM은 React Element와 일치하도록 DOM을 업데이트 합니다.</p>
<h2 id="Rendering-Elements"><a href="#Rendering-Elements" class="headerlink" title="Rendering Elements"></a>Rendering Elements</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>위와 같은 html 코드가 존재합니다. 실제로 존재하는 코드는 <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code>뿐이라고 볼 수 있습니다. React에서는 이것을 루트 노드(<code>Root DOM node</code>)라고 부릅니다. 이 태그 내부의 모든 element들은 <code>React DOM</code>에 의해 관리됩니다.</p>
<p>이전 포스팅에서 다뤘던 예제 코드를 다시 한번 살펴볼 차례입니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hi!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></div><div class="line">);</div><div class="line">ReactDOM.render(element, <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>));</div></pre></td></tr></table></figure></p>
<p><code>루트 노드</code>를 select하여 내부에 작성한 element를 <code>render</code>할 수 있습니다.</p>
<p><br></p>
<h2 id="Immutable-Element"><a href="#Immutable-Element" class="headerlink" title="Immutable Element"></a>Immutable Element</h2><p>React element는 <code>immutable</code>입니다. element 렌더링한 후에는, 해당 element의 자식이나 attribute를 변경할 수 없습니다. React에서는 <strong>새로운 element를 전달</strong>하여 UI를 업데이트할 수 있습니다. 뭔가 너무 비효율적으로 보이지 않나요?</p>
<p>만약에 렌더링 된 element가 위의 예제처럼 짧지 않고 엄청 긴 element인데, 모든 element를 새로 전달해야 한다니. <strong>하지만</strong> React는 <strong>필요한 부분만 업데이트</strong> 합니다! React DOM은 새로 전달받은 element와 그 자식들을 이전의 element들과 비교하여 업데이트가 필요한 부분만 업데이트 합니다.</p>
<p>다음은 공식 홈페이지에 올라온 예제 코드입니다. 1초마다 <code>ReactDOM.render()</code>를 호출하여 UI를 업데이트합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">tick</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> element = (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>It is &#123;new Date().toLocaleTimeString()&#125;.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  );</div><div class="line">  ReactDOM.render(</div><div class="line">    element,</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</div><div class="line">  );</div><div class="line">&#125;</div><div class="line"></div><div class="line">setInterval(tick, <span class="number">1000</span>);</div></pre></td></tr></table></figure></p>
<p>개발자 도구를 열어서 확인해보면 <code>{new Date().toLocaleTimeString()}</code>부분만 업데이트 되는 것을 확인하실 수 있습니다.</p>
<p><br></p>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><p>Component는 Element로 구성될 수 있습니다. React에서는 Component를 설계하고 이를 사용하여 UI를 독립적이고 재사용 가능한 부분으로 분할할 수 있습니다.</p>
<h3 id="Component-정의"><a href="#Component-정의" class="headerlink" title="Component 정의"></a>Component 정의</h3><p>Component는 ES6의 <code>class</code>문법을 사용하여 정의할 수 있고 <code>React.createClass</code> 문법을 통하여 정의할 수 있고, <code>stateless한 Component</code>에 대하여 <code>functional Component</code> 방식으로 정의할 수 있습니다.</p>
<h4 id="class문법을-사용하여-React-Component를-extends-하는-방식으로-컴포넌트를-정의"><a href="#class문법을-사용하여-React-Component를-extends-하는-방식으로-컴포넌트를-정의" class="headerlink" title="class문법을 사용하여 React.Component를 extends 하는 방식으로 컴포넌트를 정의."></a><code>class</code>문법을 사용하여 React.Component를 extends 하는 방식으로 컴포넌트를 정의.</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello React World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="일반-함수-or-Arrow-function-를-사용하여-컴포넌트를-정의"><a href="#일반-함수-or-Arrow-function-를-사용하여-컴포넌트를-정의" class="headerlink" title="일반 함수(or Arrow function)를 사용하여 컴포넌트를 정의"></a>일반 함수(or Arrow function)를 사용하여 컴포넌트를 정의</h4><p><a href="https://facebook.github.io/react/docs/context.html" target="_blank" rel="external">React 공식 문서</a>에서는 <code>stateless functional component</code>라는 용어로 해당 컴포넌트를 설명하고 있습니다. 개발자들 사이에서는 Pure Component, Dumb Component, Presential Component 라고 불리기도 합니다. UI를 구성하게 되는 Component 중 state가 없거나 LifeCycle API를 사용할 일이 없는 경우 함수를 사용하여 정의합니다. 즉, 렌더링의 역할만 수행하는 컴포넌트를 정의할 때 사용하는 방식이라고 할 수 있습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">const</span> dumb = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">	<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">);</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> dumb;</div></pre></td></tr></table></figure>
<p>위와 같이 Arrow function을 사용할 수도 있지만 일반 함수를 사용하는 경우에는 함수의 이름을 추론할 수 있기 때문에 airbnb convention에서는 다음과 같은 일반 함수 방식을 권장하고 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">dumb</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Functional Component에 대해 자세히 설명된 포스팅입니다.<a href="https://velopert.com/2994" target="_blank" rel="external">Velopert-함수형 컴포넌트</a></p>
<ol>
<li><code>React.createElement()</code>를 사용하여 컴포넌트를 정의<br>사실 JSX로 작성된 element 또는 Component는 <code>React.createElement()</code>로 컴파일됩니다. React에서 일종의 sugar syntax를 제공하는 셈입니다. 즉 1번 case의 예제 코드는 다음과 같이 컴파일됩니다.<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> React.createElement(<span class="string">'div'</span>, <span class="literal">null</span>, <span class="string">`Hello React World`</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>물론 위 코드도 <code>babel</code>에 의해 ES5 문법으로 transpile되겠지만 그 결과는 생략했습니다. 저번 포스팅에서도 언급된 <a href="https://github.com/apple77y/javascript/tree/master/react" target="_blank" rel="external">airbnb 에서 제공하는 React convention</a>에서는 JSX를 사용하고 있는데, 특별한 사유가 없다면 위 구문을 사용하지 말라고 합니다.</p>
<p>정의된 컴포넌트는 ReactDOM에서 render하거나 Component를 정의할 때 사용(composition)할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">Hello</span>/&gt;</span></span></div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>));</div></pre></td></tr></table></figure></p>
<p>혹시 위 예제와 이전 예제에서 차이점을 발견하셨나요? 일부러 다르게 작성해보았습니다. 달라진 점은 바로 <code>extends</code>하고 있는 클래스가 달라진 점인데요, 이 부분은 어떻게 React 라이브러리를 import하느냐에 따라 달라질 수 있습니다. 바로 위의 예제 같은 경우에는 다음과 같이 import하여 사용할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div></pre></td></tr></table></figure></p>
<p><code>Component</code>만 import하지 않고 <code>React</code>까지 import하는 것은 바로 <code>React.createElement()</code>로 컴파일 되기 때문입니다. 마찬가지의 이유로 일반 함수로 Component를 정의할 때도 <code>React</code>를 import해줘야 합니다. <code>React.Component</code>보다는 <code>Component</code>만 extends하는 것이 타이핑도 줄고 더 깔끔하겠죠? 물론 snippet이 제공되서 직접 타이핑 할 필요는 없지만요 :)</p>
<p>Element에 대해서 그리고 Component를 어떻게 정의하는가에 대한 포스팅이었습니다. 감사합니다 :D</p>
<p>React와 관련된 포스트는 <a href="https://github.com/JaeYeopHan/react_tutorial_with_docs" target="_blank" rel="external">Github Repository</a>에서 실시간 피드를 받으실 수 있습니다.</p>
<p>Reference&gt;<br><a href="https://facebook.github.io/react/docs/react-without-jsx.html" target="_blank" rel="external">https://facebook.github.io/react/docs/react-without-jsx.html</a></p>
<p><em>2. end</em></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/05/19/React-2-Elements-and-Component/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2017/05/19/React-2-Elements-and-Component/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="undefined"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/05/16/Everything-about-babel/">
                            [Tool] (번역)Babel에 대한 모든 것
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-05-16T12:04:26+09:00">
	
		    May 16, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Tool/">Tool</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="/images/babel.png" alt=""></p>
<h1 id="Tool-번역-Everything-you-need-to-know-about-BabelJS"><a href="#Tool-번역-Everything-you-need-to-know-about-BabelJS" class="headerlink" title="[Tool] (번역) Everything you need to know about BabelJS"></a>[Tool] (번역) Everything you need to know about BabelJS</h1><p>원본 : <a href="http://kleopetrov.me/2016/03/18/everything-about-babel/" target="_blank" rel="external">http://kleopetrov.me/2016/03/18/everything-about-babel/</a><br><em>이 글은 위 글을 기반으로 하여 나름 최신으로 업데이트하며 작성되었습니다 :) 물론, 본 저자의 동의하에 작성되었습니다.</em></p>
<h2 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h2><p><code>Babel</code>은 아시다시피 ES6/ES7 코드를 ECMAScript5 코드로 transpiling 하기 위한 도구입니다. <code>Babel</code>은 다양한 작은 모듈들로 구성되어 있습니다. <code>Babel</code> 다양한 모듈을 담는 일종의 상자 역할을 하며 코드를 컴파일 하기 위해 작은 모듈들(ex. presets)을 사용합니다.</p>
<h2 id="Set-up"><a href="#Set-up" class="headerlink" title="Set up"></a>Set up</h2><p><code>babel</code> 학습을 위한 디렉토리를 구축합니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkdir babel-tutorial &amp;&amp; <span class="built_in">cd</span> babel-tutorial</div><div class="line">$ npm init</div><div class="line">$ mkdir src &amp;&amp; touch src/example.js</div><div class="line"><span class="comment"># Write some code of ES6 syntax in example.js</span></div></pre></td></tr></table></figure></p>
<h2 id="bael-cli"><a href="#bael-cli" class="headerlink" title="bael-cli"></a>bael-cli</h2><p><code>bael-cli</code>는 command line을 통해 코드를 transpile 할 수 있는 도구입니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm install --save-dev babel-cli</div><div class="line"><span class="comment"># or</span></div><div class="line">$ yarn add -D babel-cli</div></pre></td></tr></table></figure></p>
<p><code>-g</code> 옵션을 통해서 <code>bael-cli</code>를 전역에 설치할 수도 있지만 <code>--save-dev</code> 옵션으로 설치하는 이유는 하나의 컴퓨터에 존재하는 다른 프로젝트들이 각각 다른 버전의 babel에 의존성을 갖고 있을 수 있습니다. <code>--save-dev</code> 옵션을 통해서 이를 해결할 수 있습니다.</p>
<p>설치한 후 터미널에서 다음 명령을 실행할 수 있습니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ babel example.js --out-file compiled.js</div></pre></td></tr></table></figure></p>
<p>이 명령어는 다음과 같은 의미를 담고 있습니다.</p>
<ul>
<li><code>babel</code> - babel을 호출합니다.</li>
<li><code>example.js</code> - transpile 하고자하는 ES6/ES7의 자바스크립트 파일입니다.</li>
<li><code>--out-file</code> - babel에게 전달할 옵션을 명시합니다. 파일로 output을 지정하는 옵션입니다.<br><em>cf1&gt; shortcut으로 <code>-o</code> 옵션을 제공합니다.</em><br><em>cf2&gt; 이 이외에도 <code>--out-dir</code> or <code>-d</code> 옵션을 전달할 수 있습니다.</em></li>
<li><code>compiled.js</code> - 출력 파일의 이름을 명시합니다.</li>
</ul>
<p>npm script를 사용하여 해당 프로세스를 자동화 할 수 있습니다.<br><figure class="highlight"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  ...</div><div class="line">  "scripts": &#123;</div><div class="line">    "build": "babel ./src -d ./lib -w"  </div><div class="line">  &#125;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>and<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run build</div></pre></td></tr></table></figure></p>
<p><code>src</code> 디렉토리 밑에 있는 파일을 transpile하여 <code>lib</code> 디렉토리 밑으로 output을 출력합니다. 이 때는 동일한 파일명이 사용됩니다. <code>-w</code> 옵션을 통해서 <code>src</code> 디렉토리 밑의 파일들이 변경될 때마다 자동으로 transpile 하도록 할 수 있습니다.</p>
<h2 id="babel-register"><a href="#babel-register" class="headerlink" title="babel-register"></a>babel-register</h2><p><code>babel-register</code>는 각각의 모듈을 결합할 때 사용되는 후크(Hook) 모듈입니다. <code>require</code> 메소드를 바인드하여 자바스크립트 코드를 transpile 시킵니다. <code>babel-register</code> 모듈은 production을 위한 모듈은 아닙니다. 예를 들어 mocha 기반의 ES6로 작성된 테스트 코드를 실행시키기 위해서는 다음과 같은 스크립트를 사용할 수 있습니다.<br><figure class="highlight"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">"script": &#123;</div><div class="line">  "test": "mocha --require babel-register"</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="Configuring-Babel"><a href="#Configuring-Babel" class="headerlink" title="Configuring Babel"></a>Configuring Babel</h2><p>처음에도 말했듯이, babel에게 어떠한 정보를 전달해주지 않는 한 babel은 아무 작업도 수행하지 않는 ‘상자’에 불과합니다. 방금 전에 살펴봤던 예제에서 아무 옵션없이 babel을 실행시키면 <code>src</code> 디렉토리에 있는 파일을 <code>lib</code> 디렉토리에 옮기는 작업만 수행하게 됩니다. 그렇기 때문에 babel에게 설정 정보를 전달해줘야 합니다. 이 정보는 <code>.babelrc</code>파일을 통해서 전달할 수 있습니다.</p>
<h3 id="babelrc"><a href="#babelrc" class="headerlink" title=".babelrc"></a>.babelrc</h3><p><code>.babelrc</code>파일은 babel을 설정하기 위한 파일입니다. 다음과 같이 구성되어 있습니다.<br><figure class="highlight js"><figcaption><span>.babelrc</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"presets"</span>: [],</div><div class="line">  <span class="string">"plugins"</span>: []</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>presets를 추가하기 위해서는 npm 설치가 필요합니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save-dev babel-preset-es2015</div></pre></td></tr></table></figure></p>
<p>만약 React code를 transpile해야 한다면 다음과 같이 설치해줍니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save-dev babel-preset-react</div></pre></td></tr></table></figure></p>
<p>그리고 <code>.babelrc</code>파일을 수정해줍니다.<br><figure class="highlight js"><figcaption><span>.babelrc</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"presets"</span>: [<span class="string">"es2015"</span>, <span class="string">"react"</span>],</div><div class="line">  <span class="string">"plugins"</span>: []</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>자바스크립트 스펙으로 아직 확정되지 않은 <code>proposal 스펙</code>들이 존재합니다. 이들은 5개의 stage로 구분됩니다. babel에서는 각각의 stage에 대해서 preset을 제공합니다.</p>
<ul>
<li>babel-preset-stage-0</li>
<li>babel-preset-stage-1</li>
<li>babel-preset-stage-2</li>
<li>babel-preset-stage-3</li>
</ul>
<p><code>babel-preset-stage-4</code>는 <code>babel-preset-es2015</code>를 의미합니다. 각각의 stage에 대해서도 위와 같은 방법으로 설치하고 <code>.babelrc</code>파일을 수정하여 사용할 수 있습니다. 하지만 babel에서 이들을 모두 한번에 사용할 수 있도록 해주는 preset을 하나 제공했는데요, 바로 <code>babel-preset-env</code>입니다. 이 <code>preset</code>으로 모든 stage를 대체할 수 있습니다.</p>
<h2 id="babel-polyfill"><a href="#babel-polyfill" class="headerlink" title="babel-polyfill"></a>babel-polyfill</h2><p><code>babel-polyfill</code>은 ES6 환경을 제공해줍니다.<br>polyfill이 없는 경우를 예제를 통해 살펴봅니다.<br><figure class="highlight js"><figcaption><span>ES6</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">allAdd</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>).map(<span class="function"><span class="params">a</span> =&gt;</span> a + <span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<p>위 코드는 <code>babel</code>에 의해 다음과 같이 transpile됩니다.<br><figure class="highlight js"><figcaption><span>ES5</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">allAdd</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(argument).map(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> a + <span class="number">2</span>;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>Array.from()</code>은 ES6 syntax이므로 지원하지 않는 브라우저가 존재하기 때문에 위 코드는 transpile은 되었지만 모든 브라우저에서 작동하지 않습니다. 이 문제를 해결하기 위해서 <code>polyfill</code>을 사용해야 합니다. <code>polyfill</code>이란 code 조각으로 런타임에 존재하지 않는 native API의 복사본을 말합니다.</p>
<p><code>babel-polyfill</code> 사용을 위해서 다음과 같이 npm을 설치해줍니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save-dev babel-polyfill</div></pre></td></tr></table></figure></p>
<p>그리고 해당 <code>polyfill</code>이 필요한 곳에서 <code>import</code>해줍니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'babel-polyfill'</span>;</div></pre></td></tr></table></figure></p>
<p>만약 webpack과 함께 사용한다면 entry point에 <code>babel-polyfill</code>을 추가해줍니다.<br><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: [<span class="string">'babel-polyfill'</span>, <span class="string">'...'</span>]</div><div class="line">  ...</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h2 id="babel-plugins"><a href="#babel-plugins" class="headerlink" title="babel-plugins"></a>babel-plugins</h2><p>아직 공식 스펙에서 지원하지 않은 기능들을 <code>transform-plugin</code>을 추가하여 사용할 수 있습니다. 여러 플러그인은 babel 공식 홈페이지에서 확인실 수 있습니다. 추가로 설치한 플러그인은 <code>plugins</code> 옵션으로 추가할 수 있습니다. <code>.babelrc</code>파일에서 설정해줄 수도 있고 Webpack이란 도구에서도 설정해줄 수 있습니다.</p>
<p>주로 <code>Webpack</code>이라는 도구와 함께 사용하는 babel에 대해서 알아봤는데요, webpack과 함께 사용하는 것에 대해서는 <a href="https://jaeyeophan.github.io/2017/05/05/webpack-tutorial-1/">Webpack2 입문 가이드</a> 포스팅에 자세히 나와있습니다 :)</p>
<p><em>end</em></p>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="https://babeljs.io/docs/plugins/" target="_blank" rel="external">https://babeljs.io/docs/plugins/</a><br><a href="http://kleopetrov.me/2016/03/18/everything-about-babel/" target="_blank" rel="external">http://kleopetrov.me/2016/03/18/everything-about-babel/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/05/16/Everything-about-babel/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2017/05/16/Everything-about-babel/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="undefined"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/05/15/React-1-Introducing-JSX-and-DOM/">
                            [React] 1. Introducing JSX and DOM
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-05-15T13:15:27+09:00">
	
		    May 15, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/React/">React</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="/images/react_logo.png" alt=""></p>
<h1 id="React-1-Introducing-JSX-and-DOM"><a href="#React-1-Introducing-JSX-and-DOM" class="headerlink" title="[React] 1. Introducing JSX and DOM"></a>[React] 1. Introducing JSX and DOM</h1><h2 id="JSX란-무엇인가"><a href="#JSX란-무엇인가" class="headerlink" title="JSX란 무엇인가"></a>JSX란 무엇인가</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</div></pre></td></tr></table></figure>
<p><code>JSX</code>라고 불리는 이 구문은 <code>string</code>도 아니고 <code>HTML</code>도 아닙니다. React 라이브러리에서 UI를 구성할 때 사용하는 구문으로 <strong>JavaScript의 extension</strong>이라고 할 수 있습니다.(물론, 사용하지 않을 수도 있습니다.) 타 프레임워크에서 사용했던 템플릿 엔진이라고 불리는 것들과 유사한 문법을 취하며(생김새만), JavaScript의 모든 기능을 제공합니다.</p>
<h2 id="JSX에-표현식-포함하기"><a href="#JSX에-표현식-포함하기" class="headerlink" title="JSX에 표현식 포함하기"></a>JSX에 표현식 포함하기</h2><p>자바스크립트의 표현식을 <code>{}</code>으로 묶어 JSX에 삽입할 수 있습니다. 기존의 템플릿 엔진에서 사용했던 방법과 비슷합니다. ES6에서 도입된 Template literal과도 비슷한 모습을 보입니다. 코드를 살펴보겠습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hi!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></div><div class="line">);</div><div class="line">ReactDOM.render(element, <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>));</div><div class="line"><span class="comment">//이 코드는 다음 포스팅에서 설명하며, 다음 예제 코드부터는 추가하지 않습니다.</span></div></pre></td></tr></table></figure></p>
<p>위와 같이 <code>element</code>라는 객체를 만들어서 <code>render()</code>메소드에 전달하여 렌더링할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>1 + 1 = &#123;1 + 1&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></div><div class="line">);</div></pre></td></tr></table></figure></p>
<p><code>{}</code>내부에서 자바스크립트 문법을 그대로 사용할 수도 있습니다.</p>
<h2 id="JSX는-결국-표현식입니다"><a href="#JSX는-결국-표현식입니다" class="headerlink" title="JSX는 결국 표현식입니다."></a>JSX는 결국 표현식입니다.</h2><p>컴파일이 끝나면 JSX 표현식은 일반 자바스크립트 <strong>객체</strong>가 됩니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> url = <span class="string">"api/get/someting"</span>;</div><div class="line"><span class="keyword">const</span> element = (</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;url&#125;</span> /&gt;</span></span></div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>JSX로 HTML 태그의 속성 값을 지정하고자 할 때는 <code>&quot;&quot;</code>(double quote)를 사용하지 않습니다. 사용하게 되면 JSX는 속성을 표현식이 아닌 문자열 리터럴로 인식하게 됩니다. 위 <code>img</code>태그의 경우처럼 태그가 비어있으면 <code>/&gt;</code>로 바로 닫아줘야 합니다. 자식 컴포넌트가 없거나 한 줄로 element 작성이 끝나는 경우에는 닫힘 태그로 self-close를 해줍니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = (</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hi<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>1 + 1 = &#123;1 + 1&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>위의 같은 경우처럼 HTML의 문법을 사용하여 태그들을 계층화하여 구성할 수 있습니다. 하지만 이 때 주의할 사항이 한 가지 있습니다. 반드시 루트 노드(Root Node)로 <strong>하나의 노드를 지정</strong>해야 한다는 것입니다. ReactDOM은 오직 하나의 루트 노드만 렌더링하기 때문에 다음의 경우는 렌더링하지 못합니다.<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//Error!</div><div class="line">const element = (</div><div class="line">    &lt;h1&gt;Hi&lt;/h1&gt;</div><div class="line">    &lt;h2&gt;1 + 1 = &#123;1 + 1&#125;&lt;/h2&gt;</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>동일 depth에 존재하는 element가 여러 개 존재하기 때문에 error가 발생하게 됩니다. 여러 개의 element들을 계층화하는 경우에는 이전의 예제 코드처럼 element들을 <code>div</code>태그로 감싸줘야 합니다.</p>
<p>기본적으로 <code>React DOM</code>은 렌더링하기 전에 JSX에 임베디드 된 모든 값을 이스케이프 처리합니다. 따라서 응용프로그램에 명시적으로 작성되지 않은 것을 삽입할 수 없고 XSS 공격을 방지할 수 있습니다.</p>
<h2 id="DOM-Elements"><a href="#DOM-Elements" class="headerlink" title="DOM Elements"></a>DOM Elements</h2><p>React는 성능과 크로스 브라우징 이슈를 해결하기 위해 브라우저로부터 독립적인 DOM 체계를 구축하고 있습니다. 그렇기 때문에 기존의 HTML 속성과 다른 점이 존재합니다.</p>
<h3 id="Camel-Case-Attributes"><a href="#Camel-Case-Attributes" class="headerlink" title="Camel-Case Attributes"></a>Camel-Case Attributes</h3><p>기본적으로 React에서는 모든 DOM 속성 또는 이벤트 핸들러를 Camel-case로 처리해야 합니다.</p>
<h3 id="다른-Attributes"><a href="#다른-Attributes" class="headerlink" title="다른 Attributes"></a>다른 Attributes</h3><h4 id="style"><a href="#style" class="headerlink" title="style"></a>style</h4><p><code>style</code> 속성은 camelCase를 기반으로 작성된 style JavaScript 객체로 설정합니다. 모든 DOM의 속성과 일치하여, 원래 CSS에서 사용하던 속성들을 camelCase로 변경해서 사용할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> headerStyle = &#123;</div><div class="line">  <span class="attr">backgroundColor</span>: <span class="string">'#EEE'</span>;</div><div class="line">  borderRadius: <span class="string">'5px'</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> element = (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;headerStyle&#125;</span>&gt;</span>Apply style as camelCase<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">);</div></pre></td></tr></table></figure></p>
<h4 id="className"><a href="#className" class="headerlink" title="className"></a>className</h4><p>기본적으로 HTML에서는 태그에 class를 지정해줄 때, <code>&lt;div class=&quot;container&quot;&gt;&lt;/div&gt;</code>와 같은 방식을 사용했습니다. 그러나 React에서는 <code>className</code>이라는 속성을 통해 접근합니다. 다음과 같이 나타낼 수 있습니다.<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> container = (<span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</div></pre></td></tr></table></figure></p>
<p>cf&gt; JSX 속성값에는 항상 <strong>double quote</strong>를 사용합니다. JSX 속성값을 제외한 나머지 경우에 대해서는 <strong>single quote</strong>를 사용합니다. 강제적인 것이 아닌 <a href="https://github.com/apple77y/javascript/tree/master/react" target="_blank" rel="external">airbnb 에서 제공하는 React convention</a> 입니다.</p>
<h4 id="onChange"><a href="#onChange" class="headerlink" title="onChange"></a>onChange</h4><p>이 속성을 가지고 있는 필드가 변경될 때마다 이벤트가 발생합니다. React에서는 실시간으로 사용자 입력을 처리하기 위한 방법으로 이벤트를 사용합니다.<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input onChange=&#123;<span class="keyword">this</span>.handleChange&#125;/&gt;</div></pre></td></tr></table></figure></p>
<p>위 예제 코드에서는 <code>input</code>태그에 event가 발생할 때마다 <code>handleChange</code>라는 메소드가 호출됩니다.</p>
<h4 id="checked"><a href="#checked" class="headerlink" title="checked"></a>checked</h4><p><code>input</code>태그 중 <code>checkbox</code>타입 또는 <code>radio</code>타입에서 지원되는 <code>checked</code> 속성입니다. 이 속성은 <code>controlled components</code>에 대해서 사용할 때 유용합니다.</p>
<h4 id="value"><a href="#value" class="headerlink" title="value"></a>value</h4><p><code>value</code> 속성은 <code>input</code>과 <code>textarea</code>태그에 대해 지원되는 속성입니다. 이 속성을 통하여 요소의 값을 설정할 수 있습니다. 하지만 이 값은 DOM의 값보다 우선됩니다. 그렇기 때문에 이 속성은 <code>controlled components</code>에 대해서 사용할 때 유용합니다. 초기값만 지정하려는 경우에는. 즉 <code>uncontrolled components</code>에 대해서는 <code>defaultValue</code> 속성을 사용할 수 있습니다.</p>
<h4 id="defaultValue-defaultChecked"><a href="#defaultValue-defaultChecked" class="headerlink" title="defaultValue, defaultChecked"></a>defaultValue, defaultChecked</h4><p><code>&lt;textarea&gt;</code>와 <code>&lt;input type=&#39;text&#39;&gt;</code>에 대해서 지원합니다. 또한 <code>type=checkbox</code>와 <code>type=radio</code>타입의 <code>&lt;input&gt;</code>태그에 대해서는 <code>defaultChecked</code>를 지원합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;input  </div><div class="line">  type=<span class="string">"text"</span></div><div class="line">  defaultValue=<span class="string">"Jbee"</span>  </div><div class="line">/&gt;</div></pre></td></tr></table></figure></p>
<h4 id="htmlFor"><a href="#htmlFor" class="headerlink" title="htmlFor"></a>htmlFor</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = (</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">'name'</span>&gt;</span>Name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">);</div><div class="line">//"Warning: Unknown DOM property for. Did you mean htmlFor?</div><div class="line">//  in label</div><div class="line">//  in div"</div></pre></td></tr></table></figure>
<p><code>for</code>를 대체하는 <code>htmlFor</code>입니다. <code>for</code>속성을 사용하려고 하면 warning이 발생합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> element = (</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">htmlFor</span>=<span class="string">'name'</span>&gt;</span>Name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>JavaScript 문법의 <code>for</code> 예약어와 겹치기 때문에 <code>htmlFor</code>가 생겨났습니다.</p>
<h4 id="dangerouslySetInnerHTML"><a href="#dangerouslySetInnerHTML" class="headerlink" title="dangerouslySetInnerHTML"></a>dangerouslySetInnerHTML</h4><p>이 속성은 DOM에서 사용하던 <code>innerHTML</code> 속성을 대체하기 위해 만들어졌습니다. 코드에서 HTML을 설정하는 것은 XSS 공격에 노출되기 쉽기 때문에 위험합니다. 그렇기 때문에 React에서는 이 속성 사용을 최소화하기 위해 장치를 마련해놓은 것입니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">innerHTML</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;<span class="attr">__html</span>: <span class="string">'Dangerous inner html!'</span>&#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">component</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;innerHTML()&#125;</span> /&gt;</span>;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>그럼에도 불구하고 <code>dangerouslySetInnerHTML</code> 속성을 사용하려면 위의 예제 코드와 같이 <code>__html</code>이라는 키 값과 함께 객체를 전달하여 사용할 수 있습니다.</p>
<p>React와 관련된 포스트는 <a href="https://github.com/JaeYeopHan/react_tutorial_with_docs" target="_blank" rel="external">Github Repository</a>에서 실시간 피드를 받으실 수 있습니다.</p>
<p><em>1. end</em></p>
<p>Reference&gt;<br><a href="https://facebook.github.io/react/docs/introducing-jsx.html" target="_blank" rel="external">React Documentation - Introducing JSX</a><br><a href="https://facebook.github.io/react/docs/dom-elements.html" target="_blank" rel="external">React Documentation - DOM Elements</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/05/15/React-1-Introducing-JSX-and-DOM/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2017/05/15/React-1-Introducing-JSX-and-DOM/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="undefined"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/05/11/ES6-12-Array-API/">
                            [ES6] 12. Array API
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-05-11T14:22:30+09:00">
	
		    May 11, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/ECMAScript6/">ECMAScript6</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="/images/javascript_es6.png" alt=""></p>
<h1 id="ES6-12-Array-API"><a href="#ES6-12-Array-API" class="headerlink" title="[ES6] 12. Array API"></a>[ES6] 12. Array API</h1><p>JavaScript의 Array가 제공하는 API들에 대해서 살펴봅니다.</p>
<p><code>! Array.[methodName] vs Array.prototype.[methodName]</code><br>위 두 가지는 접근 방법이 다릅니다. 전자는 Array라는 오브젝트의 메소드이며 후자는 Array 타입의 모든 오브젝트에서 사용할 수 있는 메소드입니다. 간단한 예제를 통해 살펴보겠습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">arr.from(<span class="string">'jbee'</span>); <span class="comment">//Error: arr.from is not a function</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr.values()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">//console</span></div><div class="line"><span class="comment">//1</span></div><div class="line"><span class="comment">//2</span></div><div class="line"><span class="comment">//3</span></div></pre></td></tr></table></figure></p>
<p><code>Array.from()</code>과 <code>Array.prototype.values()</code> 둘 차이를 보여주는 예제였습니다 :D<br>그럼 이제 Array API들에 대해 알아봅시다.</p>
<h2 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h2><ul>
<li><code>from()</code>은 유사배열(Array-Like-Object)을 배열로 바꿔줍니다.<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arrLikeObj = &#123;<span class="string">'0'</span>: <span class="string">'zero'</span>, <span class="string">'1'</span>: <span class="string">'one'</span>, <span class="string">'2'</span>: <span class="string">'two'</span>, <span class="string">'length'</span>: <span class="number">3</span>&#125;;</div><div class="line"><span class="keyword">const</span> arrFrom = <span class="built_in">Array</span>.from(arrLikeObj);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(arrFrom);<span class="comment">//Array ['zero', 'one', 'two']</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>이 방법을 통해 <code>String</code>을 Array로 변경할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> str = <span class="string">"Jbee"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(str));<span class="comment">//Array ['J', 'b', 'e', 'e']</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Array</span>(...str));<span class="comment">//Array ['J', 'b', 'e', 'e']</span></div></pre></td></tr></table></figure></p>
<p>ES6의 문법인 <code>Spread</code> 연산자를 사용해서도 가능합니다.<br><code>from()</code>을 다음과 같은 경우에 사용하면 유용할 것 같습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>);</div><div class="line"><span class="keyword">const</span> ulClassList = ul.classList;</div><div class="line"><span class="built_in">console</span>.log(ulClassList);</div><div class="line"><span class="comment">//["content-list", "foo", "bar", "baz", value: "content-list foo bar baz"]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(ulClassList));<span class="comment">//false</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> ulClassArr = <span class="built_in">Array</span>.from(ulClassList);</div><div class="line"><span class="built_in">console</span>.log(ulClassArr);<span class="comment">//["content-list", "foo", "bar", "baz"]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(ulClassArr));<span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<p>DOM의 <code>classList</code>는 유사배열(Array-Like-Object)로 반환이 됩니다. 이것을 <code>from()</code>을 사용하여 배열로 변경하여 Array API를 사용할 수 있도록 바꿔줄 수 있습니다.</p>
<ul>
<li><code>from()</code>의 두번째 인자로 콜백 함수를 넘겨줄 수 있습니다.<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arrLikeObj = &#123;<span class="string">'0'</span>: <span class="number">100</span>, <span class="string">'1'</span>: <span class="number">101</span>, <span class="string">'2'</span>: <span class="number">102</span>, <span class="string">'length'</span>: <span class="number">3</span>&#125;;</div><div class="line"><span class="keyword">const</span> arrFromWithCb = <span class="built_in">Array</span>.from(arrLikeObj, elm =&gt; elm + <span class="number">100</span>);</div></pre></td></tr></table></figure>
</li>
</ul>
<p>Array로 변경된 각각의 엘리먼트들을 <code>elm</code>으로 받아서 100을 더해줍니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(arrFromWithCb);<span class="comment">// [200, 201, 202]</span></div></pre></td></tr></table></figure></p>
<ul>
<li><code>from()</code>의 세번째 인자로는 두번째 인자로 넘겨준 콜백 함수에서 참조할 오브젝트를 넘겨줄 수 있습니다.<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arrFromWithCb3 = <span class="built_in">Array</span>.from(arrLikeObj, <span class="function"><span class="keyword">function</span>(<span class="params">elm</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> +elm + <span class="keyword">this</span>.value</div><div class="line">&#125;, &#123;<span class="attr">value</span>: <span class="number">200</span>&#125;);</div><div class="line"><span class="built_in">console</span>.log(arrFromWithCb3);<span class="comment">//[300, 301, 302]</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p><code>this</code>를 통해 참조하기 때문에 <code>arrow function</code>대신에 <strong>일반 함수</strong>를 사용하여 콜백 함수를 전달해줬습니다.</p>
<p><br></p>
<h2 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h2><p><code>of()</code>로 전달되는 파라미터 값을 배열로 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = <span class="built_in">Array</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(arr));<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[1, 2, 3]</span></div></pre></td></tr></table></figure></p>
<p>문자열도 <code>Spread</code> 연산자와 함께 사용하면 배열로 변환할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> str = <span class="string">`Jbee`</span>;</div><div class="line"><span class="keyword">const</span> strArr = <span class="built_in">Array</span>.of(...str);</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(strArr));<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(strArr);<span class="comment">//['J', 'b', 'e', 'e']</span></div></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="Array-prototype-entries"><a href="#Array-prototype-entries" class="headerlink" title="Array.prototype.entries()"></a>Array.prototype.entries()</h2><p>Array 오브젝트의 iterator를 반환하는 메소드입니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;item&#125;</span>`</span>);<span class="comment">//1  2  3</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [ key, value ] <span class="keyword">of</span> arr.entries()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span> : <span class="subst">$&#123;value&#125;</span>`</span>);<span class="comment">//0:1  1:2  2:3</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>key와 value는 각각 <code>Array.prototype.keys()</code>, <code>Array.prototype.values()</code>으로도 접근할 수 있습니다.</p>
<p><br></p>
<h2 id="Array-prototype-find"><a href="#Array-prototype-find" class="headerlink" title="Array.prototype.find()"></a>Array.prototype.find()</h2><p><code>find()</code> 파라미터로 콜백 함수를 넘겨서 처리한 내용을 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="string">'Jbee'</span>, <span class="string">'babel'</span>, <span class="string">'React'</span>]</div><div class="line"><span class="keyword">const</span> result = arr.find(<span class="function"><span class="params">elm</span> =&gt;</span> elm.includes(<span class="string">'e'</span>));</div><div class="line"><span class="built_in">console</span>.log(result);<span class="comment">//'Jbee'</span></div></pre></td></tr></table></figure></p>
<p><code>e</code>를 포함하고 있는 문자열은 <code>&#39;Jbee&#39;</code>, <code>&#39;babel&#39;</code>, <code>&#39;React&#39;</code> 모두 해당하는데 <code>&#39;Jbee&#39;</code>만 반환했습니다. <code>find()</code>는 콜백 함수로 넘겨진 조건이 <code>true</code>되는 순간 반환하기 때문에 그 다음은 확인하지 않습니다.</p>
<p><code>Array.prototype.findIndex()</code>을 통해서 <code>value</code>가 아닌 <code>index</code>를 반환하게 하는 API도 존재합니다.</p>
<p><br></p>
<h2 id="Array-prototype-filter"><a href="#Array-prototype-filter" class="headerlink" title="Array.prototype.filter()"></a>Array.prototype.filter()</h2><p>위 <code>find()</code>와는 다르게 다시 <code>Array</code>를 반환합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="string">'Jbee'</span>, <span class="string">'babel'</span>, <span class="string">'React'</span>]</div><div class="line"><span class="keyword">const</span> result = arr.filter(<span class="function"><span class="params">elm</span> =&gt;</span> elm.includes(<span class="string">'e'</span>));</div><div class="line"><span class="built_in">console</span>.log(result);<span class="comment">//'Jbee', 'babel', 'React'</span></div></pre></td></tr></table></figure></p>
<p>전달받은 콜백 함수로 각 엘리먼트들의 조건을 판단하여 <code>true</code>인 엘리먼트들에 대해서만 Array를 반환합니다.</p>
<p><br></p>
<h2 id="Array-prototype-map"><a href="#Array-prototype-map" class="headerlink" title="Array.prototype.map()"></a>Array.prototype.map()</h2><p>마찬가지로 다시 <code>Array</code>를 반환하는데, 배열의 엘리먼트에 접근하여 엘리먼트의 값을 reformat할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="string">'Jbee'</span>, <span class="string">'babel'</span>, <span class="string">'React'</span>]</div><div class="line"><span class="keyword">const</span> result = arr.map(<span class="function">(<span class="params">elm, i</span>) =&gt;</span> <span class="string">`<span class="subst">$&#123;i&#125;</span>: <span class="subst">$&#123;elm&#125;</span>`</span>);</div><div class="line"><span class="built_in">console</span>.log(result);<span class="comment">// ['0: Jbee', '1: babel', '2: React']</span></div></pre></td></tr></table></figure></p>
<p>콜백 함수의 두번째 인자, <code>i</code>로 API를 호출한 배열의 인덱스에 접근할 수 있습니다.</p>
<h2 id="Array-prototype-reduce"><a href="#Array-prototype-reduce" class="headerlink" title="Array.prototype.reduce()"></a>Array.prototype.reduce()</h2><p>배열의 각 값에 대해(0부터 arr.length 순서로) 넘겨받은 콜백 함수의 결과를 하나의 값으로 반환합니다.<br>콜백 함수의 인자로는 총 네 가지를 받을 수 있습니다.<br><code>previousValue</code>, <code>currentValue</code>, <code>currentIndex</code>, <code>array</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> result = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, currentIndex, array</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> previousValue + currentValue;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(result);<span class="comment">// 6</span></div></pre></td></tr></table></figure></p>
<p>arrow function을 사용하면 다음과 같습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> result = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> pre + cur);</div><div class="line"><span class="built_in">console</span>.log(result);</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>Array.prototype에서 제공하는 <code>pop</code>, <code>push</code>, <code>splice</code>, <code>sort</code> 등은 배열 자체를 변화시킵니다.<br><code>concat</code>, <code>slice</code>, <code>join</code>, <code>indexOf</code> 함수들은 새로운 배열을 반환합니다.</p>
<h2 id="Array-prototype-splice-Array-prototype-slice"><a href="#Array-prototype-splice-Array-prototype-slice" class="headerlink" title="Array.prototype.splice(), Array.prototype.slice()"></a>Array.prototype.splice(), Array.prototype.slice()</h2><p><code>splice</code>에 전달되는 인자는 <code>startIndex</code>, <code>deleteCount</code>, <code>newItem</code> 총 세 개입니다.<br><figure class="highlight js"><figcaption><span>Array.prototype.splice()</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [&#123;<span class="number">0</span>: <span class="string">'zero'</span>&#125;, &#123;<span class="number">1</span>: <span class="string">'one'</span>&#125;, &#123;<span class="number">2</span>: <span class="string">'two'</span>&#125;];</div><div class="line"><span class="keyword">const</span> result = arr.splice(<span class="number">0</span>, <span class="number">1</span>, &#123;<span class="number">4</span>: <span class="string">'foour'</span>&#125;);</div><div class="line"><span class="built_in">console</span>.log(arr);<span class="comment">// [&#123;4: 'foour'&#125;, &#123;1: 'one'&#125;, &#123;2: 'two'&#125;]</span></div><div class="line"><span class="built_in">console</span>.log(result);<span class="comment">// [&#123;0: 'zero'&#125;]</span></div></pre></td></tr></table></figure></p>
<p><code>slice</code>에 전달되는 인자는 <code>startIndex</code>, <code>deleteCount</code> 총 두 개입니다.<br><figure class="highlight js"><figcaption><span>Array.prototype.slice()</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [&#123;<span class="number">0</span>: <span class="string">'zero'</span>&#125;, &#123;<span class="number">1</span>: <span class="string">'one'</span>&#125;, &#123;<span class="number">2</span>: <span class="string">'two'</span>&#125;];</div><div class="line"><span class="keyword">const</span> newArr = arr.slice(<span class="number">0</span>, arr.length);</div><div class="line"><span class="built_in">console</span>.log(arr);<span class="comment">// [&#123;0: 'zero'&#125;, &#123;1: 'one'&#125;, &#123;2: 'two'&#125;]</span></div><div class="line"><span class="built_in">console</span>.log(newArr);<span class="comment">// [&#123;1: 'one'&#125;, &#123;1: 'one'&#125;, &#123;2: 'two'&#125;] is new Array</span></div></pre></td></tr></table></figure></p>
<p>기존의 <code>arr</code>에는 변경사항이 존재하지 않고 새로운 Array 오브젝트가 반환된 것을 확인하실 수 있습니다.</p>
<p><br></p>
<h3 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h3><p>Array에서 제공하는 기본적인 메소드들에 대해서 알아봤습니다. 포스트에서 소개한 메소드 이외에도 여러 메소드들이 존재하는데요, 잘 사용하면 보다 깔끔한 코드를 작성할 수 있겠습니다 :)</p>
<p>예제로 사용된 코드는 <a href="https://github.com/JaeYeopHan/ECMAScript6_study" target="_blank" rel="external">Github Respository</a>에서 확인하실 수 있습니다.</p>
<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><p><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="external">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/splice</a><br><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="external">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/slice</a><br><a href="http://programmingsummaries.tistory.com/357" target="_blank" rel="external">http://programmingsummaries.tistory.com/357</a></p>
<p><em>12. end</em></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/05/11/ES6-12-Array-API/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2017/05/11/ES6-12-Array-API/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="undefined"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/05/08/webpack-tutorial-3/">
                            Webpack2, 입문 가이드 3편, Option
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-05-08T17:06:52+09:00">
	
		    May 08, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Tool/">Tool</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="/images/webpack.png" alt=""></p>
<h1 id="Tool-Webpack2-입문-가이드-3편-Option"><a href="#Tool-Webpack2-입문-가이드-3편-Option" class="headerlink" title="[Tool] Webpack2, 입문 가이드 3편, Option"></a>[Tool] Webpack2, 입문 가이드 3편, Option</h1><p><a href="https://jaeyeophan.github.io/2017/05/05/webpack-tutorial-1/">&gt; Webpack2, 입문 가이드 1편 &gt;</a><br><a href="https://jaeyeophan.github.io/2017/05/06/webpack-tutorial-2/">&gt; Webpack2, 입문 가이드 2편 &gt;</a></p>
<h2 id="Config’s-other-options"><a href="#Config’s-other-options" class="headerlink" title="Config’s other options"></a>Config’s other options</h2><p>기본적인 네 가지 옵션, <code>entry</code>, <code>output</code>, <code>module</code>, <code>plugin</code>에 대해 알아봤습니다. 이번 포스팅에서는 좀 더 나아가 추가적인 옵션들도 살펴봅니다.<br><br></p>
<h3 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h3><p>2편에서 <code>HMR(HotModuleReplacement)</code> 플러그인을 사용할 때 추가해줬던 <code>webpack-dev-server</code>와 관련된 옵션입니다. 여러 가지 추가 설정이 존재합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">devServer: &#123;</div><div class="line">    <span class="attr">hot</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">inline</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">port</span>: <span class="number">4000</span>,</div><div class="line">    <span class="attr">compress</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">publicPath</span>: <span class="string">'/dist/'</span>,</div><div class="line">    <span class="attr">contentBase</span>: path.join(__dirname, <span class="string">'/dist/'</span>),</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="pulicPath-‘-dirname-‘"><a href="#pulicPath-‘-dirname-‘" class="headerlink" title="pulicPath: ‘/[dirname]/‘"></a>pulicPath: ‘/[dirname]/‘</h4><p><code>pulicPath</code>를 지정해주지 않았다면 default path는 ‘/‘로 설정되어 있습니다. 그렇기 때문에 <code>$ webpack-dev-server</code> 명령어를 통해 실행하면 다음과 같은 메세지가 나타납니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack output is served from /</div></pre></td></tr></table></figure></p>
<p>이것은 bundle된 결과 파일들이 <code>http://localhost:[portNumber]</code>에 served되었다는 것을 의미합니다. <code>publicPath</code> 설정으로 이를 지정할 수 있으며 그 값은 예제처럼 <code>/</code>로 둘러쌓여 있어야 합니다. 이 값을 따로 설정해주면 live reloading 기능이 기존의 url로는 안되겠죠? <code>http://localhost:[portNumber]/[publicpath]/</code>로 접근해야 예전처럼 live reloading 기능을 사용하실 수 있습니다.</p>
<p>이외에도 <code>port</code>, <code>host</code>, <code>proxy</code> 등 다양한 옵션들이 존재합니다. <code>devServer</code>와 관련된 다양한 옵션은 다음 <a href="https://webpack.js.org/configuration/dev-server/" target="_blank" rel="external">링크</a>에서 볼 수 있습니다.<br><br></p>
<h3 id="context"><a href="#context" class="headerlink" title="context"></a>context</h3><p>entry point에서 사용할 절대 경로(absolute path)를 지정할 때 사용합니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> config = &#123;</div><div class="line">  <span class="attr">context</span>: path.join(__dirname),</div><div class="line">  [...]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<h3 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h3><h4 id="reslove-alias"><a href="#reslove-alias" class="headerlink" title="reslove.alias"></a>reslove.alias</h4><p>path에 alias를 설정하여 모듈을 <code>import</code>할 때, 보다 간편히가 코드를 작성할 수 있습니다. 다음과 같은 import 구문이 있다고 가정해봅니다.<br><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Utility &#125; <span class="keyword">from</span> <span class="string">'../../../../utilities/utility'</span>;</div></pre></td></tr></table></figure></p>
<p>상대경로로 타고 타고 올라가서 해당 경로를 찾아야 하는 불편함이 존재합니다. 이를 해결하기 위해 alias를 사용하면 다음과 같은 코드로 재탄생합니다.<br><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">alias: &#123;</div><div class="line">  <span class="attr">Utilities</span>: path.join(__dirname, <span class="string">'src/utilities'</span>);</div><div class="line">  post$: path.join(__dirname, <span class="string">'src/service/post.js'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>path를 마치 상수처럼 선언하여 프로젝트에서 사용할 수 있도록 해줍니다.<br><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Utility &#125; <span class="keyword">from</span> <span class="string">'Utilities/utility'</span>;</div><div class="line"><span class="keyword">import</span> post <span class="keyword">from</span> <span class="string">'post'</span>;</div></pre></td></tr></table></figure></p>
<p>디렉토리에 대해서 그리고 파일에 대해서 path를 지정했습니다. 위의 예제처럼 특정 파일에 대해서 alias를 생성할 때, 생성하고자 하는 alias 뒤에 <code>$</code>를 붙여주면 해당 path뒤로 추가적인 path를 설정할 수 없습니다.</p>
<p><code>resolve</code>와 관련된 다양한 옵션은 다음 <a href="https://webpack.js.org/configuration/resolve/" target="_blank" rel="external">링크</a>에서 볼 수 있습니다.</p>
<p><br></p>
<h3 id="devtool"><a href="#devtool" class="headerlink" title="devtool"></a>devtool</h3><p>webpack에서 제공하는 기술 중, <code>SourceMaps</code>이라는 기술이 있습니다. <code>SourceMaps</code>은 하나의 파일로 병합되거나 압축된 자바스크립트, CSS 파일을 원형으로 분리(path 구조까지)하여, 복원해주는 기술입니다.<br><code>devtool</code> 옵션은 <code>SourceMaps</code>을 생성할지 말지를 결정하는 옵션입니다. 에러가 발생할 때, 어느 부분에서 에러가 발생했는지 알아야 디버깅이 수월할텐데요, <code>source map</code>은 bundle된 코드에서 발생한 에러를 기존의 코드와 연결시켜주는 역할을 합니다. <code>devtool</code>에서 설정할 수 있는 옵션들에는 여러 가지가 존재하며 각각의 장단점이 존재합니다.</p>
<table>
<thead>
<tr>
<th>devtool</th>
<th>build</th>
<th>rebuild</th>
<th>production</th>
</tr>
</thead>
<tbody>
<tr>
<td>eval</td>
<td>+++</td>
<td>+++</td>
<td>no</td>
</tr>
<tr>
<td>cheap-eval-source-map</td>
<td>+</td>
<td>++</td>
<td>no</td>
</tr>
<tr>
<td>cheap-source-map</td>
<td>+</td>
<td>0</td>
<td>yes</td>
</tr>
<tr>
<td>cheap-module-eval-source-map</td>
<td>0</td>
<td>++</td>
<td>no</td>
</tr>
<tr>
<td>cheap-module-source-map</td>
<td>0</td>
<td>-</td>
<td>yes</td>
</tr>
<tr>
<td>eval-source-map</td>
<td>- -</td>
<td>+</td>
<td>no</td>
</tr>
<tr>
<td>source-map</td>
<td>- -</td>
<td>- -</td>
<td>yes</td>
</tr>
<tr>
<td>nosources-source-map</td>
<td>- -</td>
<td>- -</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p><a href="https://webpack.js.org/configuration/devtool/" target="_blank" rel="external">https://webpack.js.org/configuration/devtool/</a></p>
<p>Webpack2 공식 홈페이지에서 소개하고 있는 devtool 옵션들입니다. <code>+</code>는 작업 속도가 빠르다는 것을 의마하며 <code>-</code>는 그 반대로 느린 것을 의미합니다. 이 많은 옵션 중에서 개발할 때 적합한 옵션은 무엇이고, 배포할 때 적합한 옵션은 무엇일까요?</p>
<p>개발 시에는 얼머나 용량을 줄이느냐보다 어디에서 에러가 발생했는지 알 수 있어야 하므로 로그가 상세히 나타나는 옵션을 선택해야하며 생산성을 높이기 위해 빌드 시간이 짧아야 합니다. 배포용은 용량이 우선적으로 작아야 겠죠? 저는 다음과 같이 정리해보았습니다.  </p>
<p><em>Option for development)</em></p>
<ul>
<li><code>cheap-module-eval-source-map</code></li>
<li><code>inline-source-map</code></li>
<li><code>eval-source-map</code></li>
</ul>
<p><em>Option for production)</em></p>
<ul>
<li><code>cheap-module-source-map</code></li>
</ul>
<p>각 옵션들에 대한 상세한 내용은 링크를 첨부합니다.<br><a href="http://cheng.logdown.com/posts/2016/03/25/679045" target="_blank" rel="external">&gt; Webpack devtool source map&gt;</a><br><a href="https://perfectacle.github.io/2016/11/14/Webpack-devtool-option-Performance/" target="_blank" rel="external">&gt; (webpack) devtool 옵션 퍼포먼스&gt;</a></p>
<p><br></p>
<h3 id="env-EnvironmentPlugin"><a href="#env-EnvironmentPlugin" class="headerlink" title="env, EnvironmentPlugin"></a>env, EnvironmentPlugin</h3><p>환경에 따라 webpack이 수행해줘야 할 작업이 달라질 수 있습니다. 여기서 말하는 <code>환경</code>이란, 개발을 진행하는 과정에서 webpack 작업인지, 배포하는 과정에서의 작업인지로 구분할 수 있습니다. webpack이 작동하는 환경은 기본적으로 <code>development</code>라는 string value로 설정되어 있습니다.<br><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> webpack.EnvironmentPlugin(&#123;</div><div class="line">  <span class="attr">NODE_ENV</span>: <span class="string">'development'</span>,</div><div class="line">  <span class="attr">DEBUG</span>: <span class="literal">false</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>bundle된 파일 전체에서 사용할 수 있는 상수를 만들어서 환경 변수로 사용할 수 있습니다. 이 때 <code>DefinePlugin</code>을 사용할 수 있습니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> webpack.DefinePlugin(&#123;</div><div class="line">  <span class="string">'process.env.NODE_ENV'</span> : <span class="built_in">JSON</span>.stringify(process.env.NODE_ENV),</div><div class="line">  <span class="string">'process.env.DEBUG'</span> : <span class="built_in">JSON</span>.stringify(process.env.DEBUG)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>특정한 환경을 위한 코드를 작성하는 경우, process.env.NODE_ENV를 통해 NODE_ENV의 값을 확인할 수 있습니다. 환경 변수의 값을 확인하는 작업은 성능 저하를 유발하므로 이러한 작업은 낮은 빈도로 실행해야 한다는 점에 주의하세오.</p>
<p><br></p>
<h4 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h4><p>이외에도 많은 옵션들이 존재합니다. <a href="https://webpack.js.org/configuration/" target="_blank" rel="external">Webpack 공식 홈페이지</a>에서 확인하실 수 있습니다 :)</p>
<p>포스팅에서 사용된 예제 코드와 webpack tutorial 시리즈 전체는 <a href="https://github.com/JaeYeopHan/webpack2_tutorial" target="_blank" rel="external">Github repository</a>에서 확인하실 수 있습니다 :D</p>
<p><em>3편 end</em></p>
<p>Reference<br><a href="https://webpack.js.org/configuration/" target="_blank" rel="external">Webpack configuration</a><br><a href="https://perfectacle.github.io/2016/11/14/Webpack-devtool-option-Performance/" target="_blank" rel="external">Webpack devtool 옵션 퍼포먼스</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/05/08/webpack-tutorial-3/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2017/05/08/webpack-tutorial-3/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="undefined"/>
                </div>
            </a>
            
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="/page/2/">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>NEWER POSTS</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/page/4/">
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 3 of 7</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Jbee. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Jbee</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
